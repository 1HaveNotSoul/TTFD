# üéâ –§–ò–ù–ê–õ–¨–ù–ê–Ø –°–í–û–î–ö–ê: –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ë–ê–õ–ê–ù–°–ê –ò –†–ê–ù–ì–û–í

**–î–∞—Ç–∞:** 09.02.2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ

---

## üìä –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Ä–∞–Ω–≥–∏ –º–µ–∂–¥—É Telegram –∏ Discord

**–ë—ã–ª–æ:** 
- Telegram: 20 —Ä–∞–Ω–≥–æ–≤ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- Discord: 7 —Ä–∞–Ω–≥–æ–≤ –ø–æ –±—É–∫–≤–∞–º (F-S)

**–°—Ç–∞–ª–æ:**
- **Telegram: 7 —Ä–∞–Ω–≥–æ–≤ (F, E, D, C, B, A, S)** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å Discord
- **Discord: 7 —Ä–∞–Ω–≥–æ–≤ (F, E, D, C, B, A, S)**

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è XP –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–ø–∞–¥–∞—é—Ç:**

| –†–∞–Ω–≥ | –¢—Ä–µ–±—É–µ–º—ã–π XP | –ù–∞–≥—Ä–∞–¥–∞ (–º–æ–Ω–µ—Ç—ã) |
|------|--------------|------------------|
| F | 100 XP | 50 –º–æ–Ω–µ—Ç |
| E | 500 XP | 100 –º–æ–Ω–µ—Ç |
| D | 1500 XP | 200 –º–æ–Ω–µ—Ç |
| C | 2800 XP | 400 –º–æ–Ω–µ—Ç |
| B | 5000 XP | 800 –º–æ–Ω–µ—Ç |
| A | 15000 XP | 2000 –º–æ–Ω–µ—Ç |
| S | 50000 XP | 5000 –º–æ–Ω–µ—Ç |

### 2. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –±–∞–ª–∞–Ω—Å–∞

–¢–µ–ø–µ—Ä—å –±–∞–ª–∞–Ω—Å (–º–æ–Ω–µ—Ç—ã/coins) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –º–µ–∂–¥—É:
- ‚úÖ Telegram Bot
- ‚úÖ Discord Bot
- ‚úÖ Website

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –º–æ–Ω–µ—Ç—ã –Ω–∞ –ª—é–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
2. –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ –≤ unified database
4. –ë–∞–ª–∞–Ω—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å–æ –≤—Å–µ–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏

---

## üìÅ –°–û–ó–î–ê–ù–ù–´–ï –§–ê–ô–õ–´

### –†–∞–Ω–≥–∏:
- ‚úÖ `TTFD/telegram-bot/database.py` - –æ–±–Ω–æ–≤–ª—ë–Ω –º–∞—Å—Å–∏–≤ `RANKS`
- ‚úÖ `TTFD/telegram-bot/–ì–û–¢–û–í–û_–°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø_–†–ê–ù–ì–û–í.md`

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞:
- ‚úÖ `TTFD/shared/balance_sync.py` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ `TTFD/telegram-bot/database_sync_wrapper.py` - wrapper –¥–ª—è Telegram
- ‚úÖ `TTFD-Discord/py/database_sync_wrapper.py` - wrapper –¥–ª—è Discord
- ‚úÖ `TTFD/–ì–û–¢–û–í–û_–°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø_–ë–ê–õ–ê–ù–°–ê.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `TTFD-Discord/–ì–û–¢–û–í–û_–°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø_–ë–ê–õ–ê–ù–°–ê.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Discord

---

## üöÄ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨

### –î–ª—è Discord –±–æ—Ç–∞:

–û—Ç–∫—Ä–æ–π—Ç–µ `TTFD-Discord/py/bot.py` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ:

```python
# –ë–´–õ–û:
if database_url:
    from database_postgres import db
else:
    from database import db
```

```python
# –°–¢–ê–õ–û:
if database_url:
    from database_postgres import db as local_db
    from database_sync_wrapper import create_sync_wrapper
    db = create_sync_wrapper(local_db)
    print("‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤–∫–ª—é—á–µ–Ω–∞ (Discord)")
else:
    from database import db as local_db
    from database_sync_wrapper import create_sync_wrapper
    db = create_sync_wrapper(local_db)
    print("‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤–∫–ª—é—á–µ–Ω–∞ (Discord)")
```

### –î–ª—è Telegram –±–æ—Ç–∞:

–û—Ç–∫—Ä–æ–π—Ç–µ `TTFD/telegram-bot/database.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞:

```python
# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º wrapper –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
try:
    from database_sync_wrapper import create_sync_wrapper
    db = create_sync_wrapper(db)
    print("‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤–∫–ª—é—á–µ–Ω–∞ (Telegram)")
except Exception as e:
    print(f"‚ö†Ô∏è  –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞: {e}")
```

---

## üìä –ü–†–ò–ú–ï–† –†–ê–ë–û–¢–´

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–≥—Ä–∞–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

1. **Telegram:** –ò–≥—Ä–∞–µ—Ç –≤ –∏–≥—Ä—É, –ø–æ–ª—É—á–∞–µ—Ç +100 –º–æ–Ω–µ—Ç
   - –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î Telegram: coins = 100
   - Unified Database: coins = 100 ‚úÖ
   - Discord –≤–∏–¥–∏—Ç: coins = 100 ‚úÖ
   - Website –≤–∏–¥–∏—Ç: coins = 100 ‚úÖ

2. **Discord:** –ü–æ–ª—É—á–∞–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é –Ω–∞–≥—Ä–∞–¥—É +50 –º–æ–Ω–µ—Ç
   - –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î Discord: coins = 150
   - Unified Database: coins = 150 ‚úÖ
   - Telegram –≤–∏–¥–∏—Ç: coins = 150 ‚úÖ
   - Website –≤–∏–¥–∏—Ç: coins = 150 ‚úÖ

3. **Website:** –ü–æ–∫—É–ø–∞–µ—Ç —Ç–æ–≤–∞—Ä –∑–∞ 50 –º–æ–Ω–µ—Ç
   - Unified Database: coins = 100 ‚úÖ
   - Telegram –≤–∏–¥–∏—Ç: coins = 100 ‚úÖ
   - Discord –≤–∏–¥–∏—Ç: coins = 100 ‚úÖ

---

## üîç –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´

### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Discord –±–æ—Ç–∞:
```
‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤–∫–ª—é—á–µ–Ω–∞ (Discord)
‚úÖ Unified Database –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ (Discord)
‚úÖ –ú–æ–Ω–µ—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã: discord_id=123, delta=50
```

### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Telegram –±–æ—Ç–∞:
```
‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤–∫–ª—é—á–µ–Ω–∞ (Telegram)
‚úÖ Unified Database –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
‚úÖ –ú–æ–Ω–µ—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã: telegram_id=456, delta=100
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
```sql
SELECT 
    telegram_id,
    discord_id,
    username,
    xp,
    coins,
    rank_id
FROM unified_users
WHERE telegram_id IS NOT NULL OR discord_id IS NOT NULL;
```

---

## üí° –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

### –†–∞–Ω–≥–∏:
‚úÖ –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–Ω–≥–æ–≤ –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö  
‚úÖ –ü—Ä–æ—â–µ –ø–æ–Ω—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å (F ‚Üí S –≤–º–µ—Å—Ç–æ 20 –Ω–∞–∑–≤–∞–Ω–∏–π)  
‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Discord —Ä–æ–ª—è–º–∏  
‚úÖ –ú–µ–Ω—å—à–µ –ø—É—Ç–∞–Ω–∏—Ü—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ë–∞–ª–∞–Ω—Å:
‚úÖ –ï–¥–∏–Ω—ã–π –±–∞–ª–∞–Ω—Å –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è  
‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –∫–æ–¥)  
‚úÖ –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (–ª–æ–∫–∞–ª—å–Ω—ã–µ –ë–î —Ä–∞–±–æ—Ç–∞—é—Ç –¥–∞–∂–µ –µ—Å–ª–∏ unified –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞)  
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–∞–ª–∞–Ω—Å–∞

---

## üì¶ –î–ï–ü–õ–û–ô

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏—è —É–∂–µ –∑–∞–ª–∏—Ç—ã –Ω–∞ GitHub:
- ‚úÖ TTFD (Telegram Bot) - commit: `dfe601e`
- ‚è≥ TTFD-Discord - –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å wrapper –≤ `bot.py`

### 2. –ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ wrapper:
```bash
# Discord Bot
cd TTFD-Discord
# –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ py/bot.py
# –ó–∞—Ç–µ–º –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ Railway

# Telegram Bot
cd TTFD/telegram-bot
# –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ database.py
git add .
git commit -m "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –±–∞–ª–∞–Ω—Å–∞"
git push
```

### 3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

1. **DATABASE_URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω** –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
2. **Unified Database –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞** –¥–ª—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤
3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** - –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞ 1-5 —Å–µ–∫—É–Ω–¥
4. **–õ–æ–∫–∞–ª—å–Ω—ã–µ –ë–î –æ—Å—Ç–∞—é—Ç—Å—è** - wrapper –ø—Ä–æ–∑—Ä–∞—á–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

---

## üéØ –ò–¢–û–ì

‚úÖ **–†–∞–Ω–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã** - 7 —Ä–∞–Ω–≥–æ–≤ (F-S) –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö  
‚úÖ **–ë–∞–ª–∞–Ω—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω** - –µ–¥–∏–Ω—ã–µ –º–æ–Ω–µ—Ç—ã –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö  
‚úÖ **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å wrapper –≤ –±–æ—Ç—ã  
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏!** üéâ

–ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ wrapper –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç:
- –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–æ–Ω–µ—Ç—ã –Ω–∞ –ª—é–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- –í–∏–¥–µ—Ç—å –µ–¥–∏–Ω—ã–π –±–∞–ª–∞–Ω—Å –≤–µ–∑–¥–µ
- –ü–æ–ª—É—á–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–∞–Ω–≥–∏ –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
