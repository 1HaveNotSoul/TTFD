# ‚úÖ OAuth Discord - –§–∏–Ω–∞–ª—å–Ω—ã–µ —à–∞–≥–∏

## –ß—Ç–æ —è —Å–¥–µ–ª–∞–ª:

1. ‚úÖ –î–æ–±–∞–≤–∏–ª `requests-oauthlib` –≤ requirements.txt
2. ‚úÖ –°–æ–∑–¥–∞–ª `discord_oauth.py` —Å –ª–æ–≥–∏–∫–æ–π OAuth
3. ‚úÖ –î–æ–±–∞–≤–∏–ª OAuth endpoints –≤ `web.py`
4. ‚úÖ –û–±–Ω–æ–≤–∏–ª `config.py` –¥–ª—è OAuth –Ω–∞—Å—Ç—Ä–æ–µ–∫
5. ‚úÖ –û–±–Ω–æ–≤–∏–ª `.env.example`

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –°–±—Ä–æ—Å Client Secret!

–¢—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª Client Secret –≤ —á–∞—Ç–µ! –ù—É–∂–Ω–æ:

1. https://discord.com/developers/applications
2. –¢–≤–æ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí OAuth2
3. **Reset Secret**
4. –°–∫–æ–ø–∏—Ä—É–π –Ω–æ–≤—ã–π Secret
5. **–ù–ï –ü–£–ë–õ–ò–ö–£–ô –ï–ì–û!**

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### 1. –î–æ–±–∞–≤—å Redirect URL –≤ Discord:
1. Discord Developer Portal ‚Üí OAuth2
2. Redirects ‚Üí Add Redirect
3. –î–æ–±–∞–≤—å: `https://ttfd.onrender.com/auth/discord/callback`
4. Save Changes

### 2. –î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Render:
1. Render Dashboard ‚Üí Web Service ‚Üí Environment
2. –î–æ–±–∞–≤—å:
   - `DISCORD_CLIENT_ID` = `1441498894008582354`
   - `DISCORD_CLIENT_SECRET` = `–Ω–æ–≤—ã–π_secret_–ø–æ—Å–ª–µ_—Å–±—Ä–æ—Å–∞`
   - `DISCORD_REDIRECT_URI` = `https://ttfd.onrender.com/auth/discord/callback`
3. Save Changes

### 3. –ó–∞–≥—Ä—É–∑–∏ –∫–æ–¥ –Ω–∞ GitHub:
```bash
cd Desktop/–ø–∞–ø–∫–∏/TTFD-Website
git add .
git commit -m "Add Discord OAuth authorization"
git push
```

## ‚úÖ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ª–æ–≥–∏–Ω–∞ –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Discord"!

–ü—Ä–∏ –∫–ª–∏–∫–µ:
1. –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Discord –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (–µ—Å–ª–∏ –Ω–æ–≤—ã–π)
4. Discord ID –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è
5. –ê–≤–∞—Ç–∞—Ä–∫–∞ –∏–∑ Discord –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

## üéØ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

- ‚úÖ –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Discord
- ‚úÖ –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
- ‚úÖ –ê–≤—Ç–æ–ø—Ä–∏–≤—è–∑–∫–∞ Discord ID
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏ –∏–∑ Discord
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç CSRF (state parameter)

## üìù –û—Å—Ç–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å:

1. –ö–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Discord" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞ (–Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å login.html)
2. –ö–Ω–æ–ø–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
3. –ó–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (–Ω—É–∂–µ–Ω Cloudinary)
4. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã CSS

–•–æ—á–µ—à—å —á—Ç–æ–±—ã —è –¥–æ–±–∞–≤–∏–ª –∫–Ω–æ–ø–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞?
