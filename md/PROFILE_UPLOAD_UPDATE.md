# ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏ –Ω–æ–≤—ã–π –¥–∏–∑–∞–π–Ω

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –∞–≤–∞—Ç–∞—Ä–∫–∏ –ø—Ä—è–º–æ —Å–æ —Å–≤–æ–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: PNG, JPG, JPEG, GIF, WEBP
- ‚úÖ –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `static/uploads/avatars/`
- ‚úÖ –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –º—É–∑—ã–∫–∏ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å MP3 —Ñ–∞–π–ª—ã —Å–æ —Å–≤–æ–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç: MP3
- ‚úÖ –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `static/uploads/music/`
- ‚úÖ –ú—É–∑—ã–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—Å–µ—â–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è

### 3. –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è –∞–≤–∞—Ç–∞—Ä–∫–∞ (180x180px) —Å –±–µ–ª–æ–π —Ä–∞–º–∫–æ–π
- ‚úÖ –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å hover —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- ‚úÖ –ë–æ–ª–µ–µ –∫—Ä—É–ø–Ω—ã–µ –∏ —á–∏—Ç–∞–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ü–≤–µ—Ç username - —Ç–µ–ø–µ—Ä—å —Å–µ—Ä—ã–π (#888) –≤–º–µ—Å—Ç–æ –±–µ–ª–æ–≥–æ

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ API endpoints

#### POST /api/upload_avatar
–ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏
- **–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –î–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `avatar` (file)
- **–û—Ç–≤–µ—Ç**: `{success: true, avatar_url: "/static/uploads/avatars/..."}`

#### POST /api/upload_music
–ó–∞–≥—Ä—É–∑–∫–∞ –º—É–∑—ã–∫–∏
- **–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –î–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `music` (file)
- **–û—Ç–≤–µ—Ç**: `{success: true, music_url: "/static/uploads/music/..."}`

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **web.py**
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `werkzeug.utils.secure_filename`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
   - –°–æ–∑–¥–∞–Ω—ã –ø–∞–ø–∫–∏ `static/uploads/avatars/` –∏ `static/uploads/music/`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `allowed_file()` –∏ –¥–≤–∞ –Ω–æ–≤—ã—Ö API endpoint

2. **templates/profile.html**
   - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –¥–∏–∑–∞–π–Ω
   - –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω –≤–º–µ—Å—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ —Ü–≤–µ—Ç–∞
   - –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ü–≤–µ—Ç username

3. **templates/settings.html**
   - –ó–∞–º–µ–Ω–µ–Ω—ã URL –ø–æ–ª—è –Ω–∞ file input –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∫–∏
   - –ó–∞–º–µ–Ω–µ–Ω—ã URL –ø–æ–ª—è –Ω–∞ file input –¥–ª—è –º—É–∑—ã–∫–∏
   - –û–±–Ω–æ–≤–ª—ë–Ω JavaScript –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ FormData
   - –£–¥–∞–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–≤–µ—Ç–∞ —Ñ–æ–Ω–∞ –∏ —Ç–µ–∫—Å—Ç–∞ (—Ç–µ–ø–µ—Ä—å –µ–¥–∏–Ω—ã–π –¥–∏–∑–∞–π–Ω)

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

1. **–ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä–∫—É:**
   - –ó–∞–π–¥–∏ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏
   - –†–∞–∑–¥–µ–ª "–í–Ω–µ—à–Ω–∏–π –≤–∏–¥ –ø—Ä–æ—Ñ–∏–ª—è"
   - –ù–∞–∂–º–∏ "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª" –∏ –≤—ã–±–µ—Ä–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   - –ù–∞–∂–º–∏ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä–∫—É"

2. **–ó–∞–≥—Ä—É–∑–∏—Ç—å –º—É–∑—ã–∫—É:**
   - –ó–∞–π–¥–∏ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏
   - –†–∞–∑–¥–µ–ª "üéµ –ú—É–∑—ã–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è"
   - –ù–∞–∂–º–∏ "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª" –∏ –≤—ã–±–µ—Ä–∏ MP3
   - –ù–∞–∂–º–∏ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –º—É–∑—ã–∫—É"

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:

–£–±–µ–¥–∏—Å—å —á—Ç–æ –ø–∞–ø–∫–∏ —Å–æ–∑–¥–∞–Ω—ã:
```bash
mkdir -p static/uploads/avatars
mkdir -p static/uploads/music
```

–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
```bash
pip install werkzeug
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ (UUID)
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ (10MB)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ `secure_filename`

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –î–æ–±–∞–≤–∏—Ç—å —Å–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–µ–∑–∫—É –∞–≤–∞—Ç–∞—Ä–æ–∫ –¥–æ –∫–≤–∞–¥—Ä–∞—Ç–∞
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
- –î–æ–±–∞–≤–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤—ã—Ö
- –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
