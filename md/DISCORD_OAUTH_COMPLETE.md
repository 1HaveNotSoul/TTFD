# โ Discord OAuth - ะะพะปะฝะฐั ัะตะฐะปะธะทะฐัะธั ะทะฐะฒะตััะตะฝะฐ!

## ๐ฆ ะงัะพ ะฑัะปะพ ัะตะฐะปะธะทะพะฒะฐะฝะพ:

### 1. Backend (ะกะตัะฒะตัะฝะฐั ัะฐััั)
- โ `discord_oauth.py` - ะฟะพะปะฝะฐั ะปะพะณะธะบะฐ OAuth ะฐะฒัะพัะธะทะฐัะธะธ
  - ะะตะฝะตัะฐัะธั OAuth URL ั CSRF ะทะฐัะธัะพะน
  - ะะฑะผะตะฝ ะบะพะดะฐ ะฝะฐ access token
  - ะะพะปััะตะฝะธะต ะดะฐะฝะฝัั ะฟะพะปัะทะพะฒะฐัะตะปั ะธะท Discord API
  - ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพะทะดะฐะฝะธะต ะฐะบะบะฐัะฝัะฐ
  - ะะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะธะฒัะทะบะฐ Discord ID
  - ะะฐะณััะทะบะฐ ะฐะฒะฐัะฐัะบะธ ะธะท Discord

### 2. Web Routes (ะะฐัััััั)
- โ `/auth/discord` - ะฝะฐัะฐะปะพ OAuth ะฟัะพัะตััะฐ
- โ `/auth/discord/callback` - ะพะฑัะฐะฑะพัะบะฐ ะพัะฒะตัะฐ ะพั Discord
- โ ะะฝัะตะณัะฐัะธั ั ัััะตััะฒัััะตะน ัะธััะตะผะพะน ัะตััะธะน

### 3. Frontend (ะะฝัะตััะตะนั)
- โ ะะฝะพะฟะบะฐ "ะะพะนัะธ ัะตัะตะท Discord" ะฝะฐ ัััะฐะฝะธัะต ะปะพะณะธะฝะฐ
- โ ะะฝะพะฟะบะฐ "ะะพะนัะธ ัะตัะตะท Discord" ะฝะฐ ัััะฐะฝะธัะต ัะตะณะธัััะฐัะธะธ
- โ ะัะฐัะธะฒัะน ะดะธะทะฐะนะฝ ั ะธะบะพะฝะบะพะน Discord
- โ ะะฐะทะดะตะปะธัะตะปั "ะธะปะธ" ะผะตะถะดั OAuth ะธ ะพะฑััะฝะพะน ัะพัะผะพะน

### 4. Configuration (ะะพะฝัะธะณััะฐัะธั)
- โ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะฒ `config.py`
- โ ะัะธะผะตั ะฒ `.env.example`
- โ ะะฐะฒะธัะธะผะพััะธ ะฒ `requirements.txt`

### 5. Security (ะะตะทะพะฟะฐัะฝะพััั)
- โ CSRF ะทะฐัะธัะฐ ัะตัะตะท state parameter
- โ ะะตะทะพะฟะฐัะฝะพะต ััะฐะฝะตะฝะธะต ัะพะบะตะฝะพะฒ ะฒ ัะตััะธัั
- โ ะัะพะฒะตัะบะฐ ะฒะฐะปะธะดะฝะพััะธ OAuth ะพัะฒะตัะฐ

## ๐ ะะฐะบ ัะฐะฑะพัะฐะตั OAuth ะฟัะพัะตัั:

```
1. ะะพะปัะทะพะฒะฐัะตะปั โ ะะฐะถะธะผะฐะตั "ะะพะนัะธ ัะตัะตะท Discord"
2. ะกะฐะนั โ ะะตะฝะตัะธััะตั state (CSRF ะทะฐัะธัะฐ)
3. ะกะฐะนั โ ะะตะดะธัะตะบั ะฝะฐ Discord OAuth
4. Discord โ ะะพะบะฐะทัะฒะฐะตั ัััะฐะฝะธัั ะฐะฒัะพัะธะทะฐัะธะธ
5. ะะพะปัะทะพะฒะฐัะตะปั โ ะะฐะทัะตัะฐะตั ะดะพัััะฟ
6. Discord โ ะะตะดะธัะตะบั ะพะฑัะฐัะฝะพ ั ะบะพะดะพะผ
7. ะกะฐะนั โ ะัะพะฒะตััะตั state
8. ะกะฐะนั โ ะะฑะผะตะฝะธะฒะฐะตั ะบะพะด ะฝะฐ access token
9. ะกะฐะนั โ ะะพะปััะฐะตั ะดะฐะฝะฝัะต ะฟะพะปัะทะพะฒะฐัะตะปั (ID, username, email, avatar)
10. ะกะฐะนั โ ะัะตั ะฐะบะบะฐัะฝั ั ัะฐะบะธะผ Discord ID
11a. ะัะปะธ ะฝะฐะนะดะตะฝ โ ะะพะณะธะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั
11b. ะัะปะธ ะฝะต ะฝะฐะนะดะตะฝ โ ะกะพะทะดะฐัั ะฝะพะฒัะน ะฐะบะบะฐัะฝั
12. ะกะฐะนั โ ะกะพะทะดะฐัั ัะตััะธั
13. ะกะฐะนั โ ะะตะดะธัะตะบั ะฝะฐ ะณะปะฐะฒะฝัั ัััะฐะฝะธัั
```

## ๐ ะะทะผะตะฝัะฝะฝัะต ัะฐะนะปั:

```
Desktop/ะฟะฐะฟะบะธ/TTFD-Website/
โโโ discord_oauth.py (ะะะะซะ)
โโโ web.py (ะดะพะฑะฐะฒะปะตะฝั OAuth endpoints)
โโโ config.py (ะดะพะฑะฐะฒะปะตะฝั OAuth ะฟะตัะตะผะตะฝะฝัะต)
โโโ requirements.txt (ะดะพะฑะฐะฒะปะตะฝ requests-oauthlib)
โโโ .env.example (ะดะพะฑะฐะฒะปะตะฝั ะฟัะธะผะตัั OAuth ะฟะตัะตะผะตะฝะฝัั)
โโโ templates/
โ   โโโ login.html (ะดะพะฑะฐะฒะปะตะฝะฐ ะบะฝะพะฟะบะฐ Discord)
โ   โโโ register.html (ะดะพะฑะฐะฒะปะตะฝะฐ ะบะฝะพะฟะบะฐ Discord)
```

## โ๏ธ ะงะขะ ะะฃะะะ ะกะะะะะขะฌ ะะะะฌะะะะะขะะะฎ:

### ะจะฐะณ 1: ะกะฑัะพัะธัั Client Secret (ะะะะขะะงะะ!)
ะะพะปัะทะพะฒะฐัะตะปั ะพะฟัะฑะปะธะบะพะฒะฐะป ัะตะบัะตั ะฒ ัะฐัะต, ะฝัะถะฝะพ:
1. https://discord.com/developers/applications
2. ะัะฑัะฐัั ะฟัะธะปะพะถะตะฝะธะต (ID: 1441498894008582354)
3. OAuth2 โ Reset Secret
4. ะกะบะพะฟะธัะพะฒะฐัั ะฝะพะฒัะน ัะตะบัะตั

### ะจะฐะณ 2: ะะฐัััะพะธัั Discord Developer Portal
1. OAuth2 โ Redirects โ Add Redirect
2. ะะพะฑะฐะฒะธัั: `https://ttfd.onrender.com/auth/discord/callback`
3. Save Changes

### ะจะฐะณ 3: ะะพะฑะฐะฒะธัั ะฟะตัะตะผะตะฝะฝัะต ะฒ Render
```
DISCORD_CLIENT_ID = 1441498894008582354
DISCORD_CLIENT_SECRET = <ะฝะพะฒัะน_ัะตะบัะตั>
DISCORD_REDIRECT_URI = https://ttfd.onrender.com/auth/discord/callback
```

### ะจะฐะณ 4: ะะพะถะดะฐัััั ะดะตะฟะปะพั
Render ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฑะฝะพะฒะธั ะฟัะธะปะพะถะตะฝะธะต

## โ ะงัะพ ะฑัะดะตั ัะฐะฑะพัะฐัั ะฟะพัะปะต ะฝะฐัััะพะนะบะธ:

1. **ะััััะฐั ะฐะฒัะพัะธะทะฐัะธั** - ะพะดะธะฝ ะบะปะธะบ ะฒะผะตััะพ ะทะฐะฟะพะปะฝะตะฝะธั ัะพัะผั
2. **ะะฒัะพะผะฐัะธัะตัะบะฐั ัะตะณะธัััะฐัะธั** - ะฝะต ะฝัะถะฝะพ ะฟัะธะดัะผัะฒะฐัั ะฟะฐัะพะปั
3. **ะัะธะฒัะทะบะฐ Discord ID** - ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะฒัะทัะฒะฐะตััั ั ะธะณัะพะฒัะผ ะฐะบะบะฐัะฝัะพะผ
4. **ะะฒะฐัะฐัะบะฐ ะธะท Discord** - ะทะฐะณััะถะฐะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ
5. **ะะตะทะพะฟะฐัะฝะพััั** - ะทะฐัะธัะฐ ะพั CSRF ะฐัะฐะบ

## ๐จ ะะฐะบ ะฒัะณะปัะดะธั:

ะะฐ ัััะฐะฝะธัะต ะปะพะณะธะฝะฐ/ัะตะณะธัััะฐัะธะธ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         TTFD                    โ
โ    ะะพะนะดะธ ะฒ ัะฒะพะน ะฐะบะบะฐัะฝั         โ
โ                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ ๐ฎ ะะพะนัะธ ัะตัะตะท Discord    โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                 โ
โ           ะธะปะธ                   โ
โ                                 โ
โ  ะะพะณะธะฝ: [____________]          โ
โ  ะะฐัะพะปั: [____________]         โ
โ  [ะะพะนัะธ]                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะัะปะฐะดะบะฐ:

ะัะปะธ OAuth ะฝะต ัะฐะฑะพัะฐะตั, ะฟัะพะฒะตัั:
1. โ ะัะต 3 ะฟะตัะตะผะตะฝะฝัะต ะดะพะฑะฐะฒะปะตะฝั ะฒ Render
2. โ Redirect URI ะดะพะฑะฐะฒะปะตะฝ ะฒ Discord
3. โ Client Secret ัะฑัะพัะตะฝ ะธ ะฝะพะฒัะน ะดะพะฑะฐะฒะปะตะฝ
4. โ ะะพะณะธ ะฒ Render Dashboard โ Logs

## ๐ ะกัะฐััั:

- โ Backend ัะตะฐะปะธะทะพะฒะฐะฝ
- โ Frontend ัะตะฐะปะธะทะพะฒะฐะฝ
- โ ะะพะด ะทะฐะณััะถะตะฝ ะฝะฐ GitHub
- โณ ะะถะธะดะฐะตั ะฝะฐัััะพะนะบะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะผ
- โณ ะะถะธะดะฐะตั ะดะตะฟะปะพั ะฝะฐ Render

## ๐ ะกะปะตะดัััะธะต ะฒะพะทะผะพะถะฝัะต ัะปัััะตะฝะธั:

1. ะะพะฑะฐะฒะธัั ะฑะพะปััะต OAuth ะฟัะพะฒะฐะนะดะตัะพะฒ (Google, GitHub)
2. ะะพะฑะฐะฒะธัั ะฒะพะทะผะพะถะฝะพััั ะพัะฒัะทะฐัั Discord
3. ะะพะฑะฐะฒะธัั ะพัะพะฑัะฐะถะตะฝะธะต Discord ััะฐัััะฐ ะฝะฐ ะฟัะพัะธะปะต
4. ะกะธะฝััะพะฝะธะทะฐัะธั ัะพะปะตะน Discord ั ัะฐะฝะณะฐะผะธ ะฝะฐ ัะฐะนัะต
