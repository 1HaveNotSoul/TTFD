# ‚ùå –ü–†–û–ë–õ–ï–ú–ê: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π DATABASE_URL

**–î–∞—Ç–∞:** 08.02.2026  
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

---

## üîç –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ

–¢—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª DATABASE_URL:
```
postgresql://postgres:RVLOGKNYKxNJfcoLiMNJxBgdhCCPspxf@postgres.railway.internal:5432/railway
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `postgres.railway.internal` - —ç—Ç–æ **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π** –∞–¥—Ä–µ—Å Railway.

–û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ:
- ‚úÖ –í–Ω—É—Ç—Ä–∏ Railway (–º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏)
- ‚ùå –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–≤–æ–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

**–û—à–∏–±–∫–∞:**
```
socket.gaierror: [Errno 11001] getaddrinfo failed
```

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç: Python –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –∞–¥—Ä–µ—Å `postgres.railway.internal` –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–¢–µ–±–µ –Ω—É–∂–µ–Ω **–ø—É–±–ª–∏—á–Ω—ã–π** DATABASE_URL —Å –∞–¥—Ä–µ—Å–æ–º —Ç–∏–ø–∞:
```
containers-us-west-xxx.railway.app
```

---

## üìã –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π URL

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Settings (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π https://railway.app
2. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –ø—Ä–æ–µ–∫—Ç **Postgres** (—Å –∏–∫–æ–Ω–∫–æ–π —Å–ª–æ–Ω–∞ üêò)
3. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Settings**
4. –ü—Ä–æ–∫—Ä—É—Ç–∏ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Networking**
5. –ï—Å–ª–∏ —Ç–∞–º –∫–Ω–æ–ø–∫–∞ "Enable Public Networking" - –Ω–∞–∂–º–∏ –µ—ë
6. –°–∫–æ–ø–∏—Ä—É–π:
   - **Public Domain:** `containers-us-west-xxx.railway.app`
   - **TCP Proxy Port:** `7432` (–∏–ª–∏ –¥—Ä—É–≥–æ–π)

7. –°–æ–±–µ—Ä–∏ URL –≤—Ä—É—á–Ω—É—é:
   ```
   postgresql://postgres:–ü–ê–†–û–õ–¨@DOMAIN:PORT/railway
   ```
   
   –ì–¥–µ:
   - `–ü–ê–†–û–õ–¨` = `RVLOGKNYKxNJfcoLiMNJxBgdhCCPspxf`
   - `DOMAIN` = Public Domain –∏–∑ —à–∞–≥–∞ 6
   - `PORT` = TCP Proxy Port –∏–∑ —à–∞–≥–∞ 6

   **–ü—Ä–∏–º–µ—Ä:**
   ```
   postgresql://postgres:RVLOGKNYKxNJfcoLiMNJxBgdhCCPspxf@containers-us-west-123.railway.app:7432/railway
   ```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Connect

1. Railway ‚Üí –ü—Ä–æ–µ–∫—Ç Postgres
2. –í–∫–ª–∞–¥–∫–∞ **Connect**
3. –í—ã–±–µ—Ä–∏ **Public Network**
4. –°–∫–æ–ø–∏—Ä—É–π **Postgres Connection URL**

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ Variables (–µ—Å–ª–∏ –µ—Å—Ç—å)

1. Railway ‚Üí –ü—Ä–æ–µ–∫—Ç Postgres
2. –í–∫–ª–∞–¥–∫–∞ **Variables**
3. –ù–∞–π–¥–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å –ø—É–±–ª–∏—á–Ω—ã–º –∞–¥—Ä–µ—Å–æ–º:
   - `DATABASE_PUBLIC_URL`
   - –ò–ª–∏ `DATABASE_URL` (–µ—Å–ª–∏ —Ç–∞–º `containers-us-west`)
4. –°–∫–æ–ø–∏—Ä—É–π –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏ –ø—É–±–ª–∏—á–Ω—ã–π URL

–ò—Å–ø–æ–ª—å–∑—É–π –æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –≤—ã—à–µ.

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏—é —Å–Ω–æ–≤–∞

–û—Ç–∫—Ä–æ–π –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:

```cmd
cd C:\Users\brawl\OneDrive\Desktop\–ø–∞–ø–∫–∏\TTFD\shared
```

```cmd
set DATABASE_URL=—Ç–≤–æ–π_–ø—É–±–ª–∏—á–Ω—ã–π_url
```
(–ó–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π –ø—É–±–ª–∏—á–Ω—ã–π URL)

```cmd
python apply_migration.py
```

```cmd
python migrate_to_unified.py
```

---

## ‚úÖ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL —Å–æ–¥–µ—Ä–∂–∏—Ç:

‚úÖ `containers-us-west-xxx.railway.app` (–∏–ª–∏ –ø–æ—Ö–æ–∂–∏–π –¥–æ–º–µ–Ω)  
‚úÖ –ü–æ—Ä—Ç `7432` (–∏–ª–∏ –¥—Ä—É–≥–æ–π, –Ω–æ –ù–ï 5432)  
‚úÖ –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `postgresql://`

**–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ URL:**
```
postgresql://postgres:–ø–∞—Ä–æ–ª—å@containers-us-west-123.railway.app:7432/railway
```

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL —Å–æ–¥–µ—Ä–∂–∏—Ç:

‚ùå `postgres.railway.internal`  
‚ùå –ü–æ—Ä—Ç `5432`  
‚ùå –õ—é–±–æ–π `.internal` –¥–æ–º–µ–Ω

**–ü—Ä–∏–º–µ—Ä –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ URL:**
```
postgresql://postgres:–ø–∞—Ä–æ–ª—å@postgres.railway.internal:5432/railway
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –¢–∏–ø | –ê–¥—Ä–µ—Å | –ü–æ—Ä—Ç | –†–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ |
|-----|-------|------|----------------------|
| **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π** | `postgres.railway.internal` | 5432 | ‚ùå –ù–ï–¢ |
| **–ü—É–±–ª–∏—á–Ω—ã–π** | `containers-us-west-xxx.railway.app` | 7432 | ‚úÖ –î–ê |

---

## üí° –ü–æ—á–µ–º—É —Ç–∞–∫

Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –∞–¥—Ä–µ—Å–æ–≤:

1. **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π (Private):**
   - –î–ª—è —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ Railway
   - –ë—ã—Å—Ç—Ä–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ
   - –ù–µ –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

2. **–ü—É–±–ª–∏—á–Ω—ã–π (Public):**
   - –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑–≤–Ω–µ (—Å —Ç–≤–æ–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞)
   - –î–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
   - –ù—É–∂–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏–π

---

## üìÅ –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–∞–π–ª—ã

- **`TTFD/–°–ï–ô–ß–ê–°_–°–î–ï–õ–ê–ô_–≠–¢–û.txt`** - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- **`TTFD/–ü–†–û–ë–õ–ï–ú–ê_DATABASE_URL.txt`** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ
- **`TTFD/–ö–ê–ö_–ü–û–õ–£–ß–ò–¢–¨_–ü–£–ë–õ–ò–ß–ù–´–ô_URL.txt`** - –í—Å–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–ª—É—á–µ–Ω–∏—è URL

---

## ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ö–æ–≥–¥–∞ –ø–æ–ª—É—á–∏—à—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –∏ –∑–∞–ø—É—Å—Ç–∏—à—å –º–∏–≥—Ä–∞—Ü–∏—é:

1. ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –≤ Railway
2. ‚úÖ –î–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∏—Ä—É—é—Ç—Å—è
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Railway ‚Üí Data
4. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

---

**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 5 –º–∏–Ω—É—Ç  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –õ–µ–≥–∫–æ  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—á–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
