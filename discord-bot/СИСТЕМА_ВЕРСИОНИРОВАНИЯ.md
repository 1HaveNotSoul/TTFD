# ‚úÖ –°–ò–°–¢–ï–ú–ê –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ì–û –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø

## üìã –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

–í–µ—Ä—Å–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `data/update_version.json` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.

### –§–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–∏: `MAJOR.MINOR`

- **MAJOR** = 1 (–ø–æ–∫–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
- **MINOR** = —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1 –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
- 1.1 ‚Üí 1.2 ‚Üí 1.3 ‚Üí 1.4 ‚Üí ...
- –ù–∏–∫–∞–∫–∏—Ö –ø–æ–≤—Ç–æ—Ä–æ–≤!

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### `data/update_version.json`
```json
{
  "major": 1,
  "minor": 4
}
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç: **–ø–æ—Å–ª–µ–¥–Ω–µ–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Äî 1.4**

–°–ª–µ–¥—É—é—â–µ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–µ—Ç **1.5**

---

## üîß –ú–æ–¥—É–ª—å `py/update_version.py`

### –§—É–Ω–∫—Ü–∏–∏:

#### `load_version() -> Version`
–ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –∏–∑ —Ñ–∞–π–ª–∞

#### `bump_version() -> Version`
–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é –Ω–∞ 1 –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ —Ñ–∞–π–ª

#### `get_current_version() -> Version`
–ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### `save_version(v: Version) -> None`
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–µ—Ä—Å–∏—é –≤ —Ñ–∞–π–ª

---

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –í `py/updates_system.py`:

```python
from py.update_version import bump_version
from datetime import datetime, timezone, timedelta

# –ú–°–ö timezone
msk = timezone(timedelta(hours=3))
now = datetime.now(msk)

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤–µ—Ä—Å–∏—é
version = bump_version()

# –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
message = f"""**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: {version}**
{now.strftime('%d.%m.%Y %H:%M')} –ú–°–ö

**–°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
¬∑ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
¬∑ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏
"""

await channel.send(message)
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–í–µ—Ä—Å–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ** - –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ** - –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –º–µ–Ω—è—Ç—å
3. **–ù–∏–∫–∞–∫–∏—Ö –ø–æ–≤—Ç–æ—Ä–æ–≤** - –∫–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ = –Ω–æ–≤—ã–π –Ω–æ–º–µ—Ä
4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `bump_version()`

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

### Railway –¥–µ–ø–ª–æ–π:
- –§–∞–π–ª `data/update_version.json` –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ Git
- –ü—Ä–∏ –¥–µ–ø–ª–æ–µ –≤–µ—Ä—Å–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –î–æ–±–∞–≤–ª–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ `.gitignore`:
  ```
  !discord-bot/data/update_version.json
  ```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
- –ü–∞–ø–∫–∞ `data/` —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç - —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –≤–µ—Ä—Å–∏–µ–π 1.1

---

## üîÑ Workflow

1. –í–Ω–æ—Å–∏—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
2. –û–±–Ω–æ–≤–ª—è–µ—à—å `json/auto_update.json` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –ö–æ–º–º–∏—Ç–∏—à—å –∏ –ø—É—à–∏—à—å –Ω–∞ GitHub
4. Railway –¥–µ–ø–ª–æ–∏—Ç
5. –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –ß–∏—Ç–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ `auto_update.json`
   - –í—ã–∑—ã–≤–∞–µ—Ç `bump_version()` (1.3 ‚Üí 1.4)
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª
   - –û—á–∏—â–∞–µ—Ç `auto_update.json`

---

## üìä –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è

–ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è: **1.3**

–°–ª–µ–¥—É—é—â–∞—è –±—É–¥–µ—Ç: **1.4**

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
from py.update_version import get_current_version, bump_version

# –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
current = get_current_version()
print(f"–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: {current}")  # 1.3

# –£–≤–µ–ª–∏—á–∏—Ç—å –≤–µ—Ä—Å–∏—é
new = bump_version()
print(f"–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è: {new}")  # 1.4
```

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **1.1** - –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- **1.2** - –î–æ–±–∞–≤–ª–µ–Ω—ã slash –∫–æ–º–∞–Ω–¥—ã
- **1.3** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∫–æ–º–∞–Ω–¥
- **1.4** - (—Å–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 08.02.2026  
**–ê–≤—Ç–æ—Ä:** Kiro AI Assistant
