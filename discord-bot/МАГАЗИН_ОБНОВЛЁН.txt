═══════════════════════════════════════════════════════════
✅ МАГАЗИН ОБНОВЛЁН
═══════════════════════════════════════════════════════════

📅 Дата: 02.02.2026
✅ Статус: ГОТОВО

═══════════════════════════════════════════════════════════

🗑️ УДАЛЕНО:

РОЛИ:
├─ VIP роль
├─ Premium роль
└─ Legend роль

КОСМЕТ��КА:
├─ Тёмный фон профиля
├─ Красный фон профиля
└─ Градиентный фон

═══════════════════════════════════════════════════════════

✏️ ИЗМЕНЕНО:

1. СБРОС DAILY
   ├─ Было: 1000 монет
   └─ Стало: 200 монет ✅

2. УСКОРЕНИЕ РАНГА
   ├─ Было: +1000 XP мгновенно
   └─ Стало: Следующий уровень ✅
   └─ Описание: "следующий уровень"
   └─ Цена: 2000 монет

═══════════════════════════════════════════════════════════

📋 ТЕКУЩИЙ МАГАЗИН:

БУСТЫ (4 предмета):
├─ Буст XP (1 час) - 500 монет
├─ Буст XP (24 часа) - 3000 монет
├─ Буст монет (1 час) - 600 монет
└─ Буст удачи (1 час) - 800 монет

КОСМЕТИКА (1 предмет):
└─ Смена ника - 2000 монет

ОСОБОЕ (2 предмета):
├─ Сброс daily - 200 монет ✅
└─ Ускорение ранга - 2000 монет ✅

═══════════════════════════════════════════════════════════

🎯 КАК РАБОТАЕТ "УСКОРЕНИЕ РАНГА":

БЫЛО:
└─ Давало +1000 XP мгновенно
└─ Нужно было копить XP для повышения

СТАЛО:
└─ Повышает ранг на следующий уровень сразу
└─ Примеры:
   ├─ F I → F II
   ├─ F II → F III
   ├─ F III → E I
   └─ и так далее

ЛОГИКА:
```python
# Берём текущий rank_id
current_rank_id = user['rank_id']  # Например: 1 (F I)

# Повышаем на 1
user['rank_id'] = current_rank_id + 1  # Стало: 2 (F II)

# Устанавливаем XP на минимум для нового ранга
new_rank = db.get_rank_info(user['rank_id'])
user['xp'] = new_rank['required_xp']
```

═══════════════════════════════════════════════════════════

🚀 ЗАПУСК:

ШАГ 1: ОСТАНОВИ БОТА
└─ CTRL+C

ШАГ 2: ЗАПУСТИ БОТА
└─ ЗАПУСК.bat

ШАГ 3: ПРОТЕСТИРУЙ
└─ !shop - проверь что удалённых предметов нет
└─ !buy daily_reset - проверь цену 200 монет
└─ !buy rank_boost - проверь что ранг повысился

═══════════════════════════════════════════════════════════

🔧 ТЕХНИЧЕСКИЕ ДЕТАЛИ:

ФАЙЛЫ ИЗМЕНЕНЫ:
├─ json/shop_items.json ✅
│  ├─ Удалены: роли, фоны профиля
│  ├─ daily_reset: price = 200
│  └─ rank_boost: special_type = "rank_up"
└─ py/shop_system.py ✅
   └─ Добавлена логика rank_up

ЛОГИКА ПОКУПКИ:
```python
elif special_type == 'rank_up':
    current_rank_id = user.get('rank_id', 1)
    all_ranks = db.get_all_ranks()
    
    if current_rank_id < len(all_ranks):
        user['rank_id'] = current_rank_id + 1
        new_rank = db.get_rank_info(user['rank_id'])
        user['xp'] = new_rank['required_xp']
        result_message = f"ранг повышен до {new_rank['name']}!"
    else:
        result_message = "у тебя уже максимальный ранг!"
```

═══════════════════════════════════════════════════════════

🎮 ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ:

ПРИМЕР 1: СБРОС DAILY
┌─────────────────────────────────────────────────────────┐
│ Юзер: !shop special                                     │
│ Бот: [показывает магазин]                               │
│      🔄 Сброс daily - 200 монет                         │
│                                                         │
│ Юзер: !buy daily_reset                                 │
│ Бот: ✅ куплено: Сброс daily                            │
│      кулдаун !daily сброшен!                            │
│      💰 баланс: 800 монет                               │
│                                                         │
│ Юзер: !daily                                            │
│ Бот: 🎁 ежедневная награда получена!                    │
└─────────────────────────────────────────────────────────┘

ПРИМЕР 2: УСКОРЕНИЕ РАНГА
┌─────────────────────────────────────────────────────────┐
│ Юзер имеет: ранг F I (rank_id = 1)                      │
│                                                         │
│ Юзер: !buy rank_boost                                  │
│ Бот: ✅ куплено: Ускорение ранга                        │
│      ранг повышен до ᴩᴀнᴦ F II!                        │
│      💰 баланс: 0 монет                                 │
│                                                         │
│ Юзер теперь имеет: ранг F II (rank_id = 2)              │
│                                                         │
│ [Роль НЕ изменится, т.к. tier остался F]                │
└─────────────────────────────────────────────────────────┘

ПРИМЕР 3: УСКОРЕНИЕ С ИЗМЕНЕНИЕМ TIER
┌─────────────────────────────────────────────────────────┐
│ Юзер имеет: ранг F III (rank_id = 3, tier = F)          │
│                                                         │
│ Юзер: !buy rank_boost                                  │
│ Бот: ✅ куплено: Ускорение ранга                        │
│      ранг повышен до ᴩᴀнᴦ E I!                         │
│      💰 баланс: 0 монет                                 │
│                                                         │
│ Юзер теперь имеет: ранг E I (rank_id = 4, tier = E)     │
│                                                         │
│ [Роль изменится: F - ранг → E - ранг]                   │
│ [Отправится уведомление о новой роли]                   │
└─────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════

✅ ЧЕКЛИСТ:

ПЕРЕД ЗАПУСКОМ:
□ Бот остановлен (CTRL+C)
□ json/shop_items.json обновлён ✅
□ py/shop_system.py обновлён ✅
□ Готов запустить ЗАПУСК.bat

ПОСЛЕ ЗАПУСКА:
□ Бот запущен успешно
□ !shop - удалённых предметов нет ✅
□ !shop special - показывает 2 предмета ✅
□ Сброс daily стоит 200 монет ✅
□ Ускорение ранга работает ✅

ТЕСТИРОВАНИЕ:
□ Купил daily_reset за 200 монет
□ Кулдаун сброшен
□ Купил rank_boost за 2000 монет
□ Ранг повысился на следующий уровень

═══════════════════════════════════════════════════════════

🎉 ВСЁ ГОТОВО!

Магазин обновлён и готов к использованию!

═══════════════════════════════════════════════════════════

Дата: 02.02.2026
Автор: Kiro AI Assistant

Удачи! 🚀
