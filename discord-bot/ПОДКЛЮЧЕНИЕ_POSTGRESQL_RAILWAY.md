# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ PostgreSQL –Ω–∞ Railway

## –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway: https://railway.app
2. –ù–∞–∂–º–∏ **"+ New"** ‚Üí **"Database"** ‚Üí **"Add PostgreSQL"**
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

## –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç—å DATABASE_URL

1. –û—Ç–∫—Ä–æ–π —Å–æ–∑–¥–∞–Ω–Ω—É—é PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
2. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Variables"**
3. –ù–∞–π–¥–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é **DATABASE_URL**
4. –°–∫–æ–ø–∏—Ä—É–π –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ (—Ñ–æ—Ä–º–∞—Ç: `postgresql://user:password@host:port/database`)

## –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å DATABASE_URL –≤ Discord –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π —Å–≤–æ–π Discord –±–æ—Ç —Å–µ—Ä–≤–∏—Å –Ω–∞ Railway
2. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Variables"**
3. –ù–∞–∂–º–∏ **"+ New Variable"**
4. –î–æ–±–∞–≤—å:
   - **Variable Name**: `DATABASE_URL`
   - **Value**: –≤—Å—Ç–∞–≤—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π URL –∏–∑ PostgreSQL

## –®–∞–≥ 4: –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ PostgreSQL

–ö–æ–¥ –±–æ—Ç–∞ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:

```python
# –í bot.py (—Å—Ç—Ä–æ–∫–∏ 14-24)
if os.getenv('DATABASE_URL'):
    print("üîÑ –û–±–Ω–∞—Ä—É–∂–µ–Ω DATABASE_URL, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL")
    try:
        from database_postgres import db
        print("‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö")
    except Exception as e:
        print(f"‚ö†Ô∏è PostgreSQL –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: {e}")
        print("‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JSON —Ñ–∞–π–ª")
        from database import db
else:
    from database import db
    print("‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JSON –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö")
```

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è DATABASE_URL:

1. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –±–æ—Ç–∞ (–≤–∫–ª–∞–¥–∫–∞ "Deployments" ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí "View Logs")
3. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   ```
   üîÑ –û–±–Ω–∞—Ä—É–∂–µ–Ω DATABASE_URL, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL
   ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
   ```

## –®–∞–≥ 6: –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª–∞—Ö:

1. –°–∫–∞—á–∞–π JSON —Ñ–∞–π–ª—ã —Å —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å)
2. –ó–∞–ø—É—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ:
   ```bash
   cd TTFD/discord-bot
   python migrate_to_postgres.py
   ```

## –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

‚úÖ **–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞**
- –ë–∞–ª–∞–Ω—Å, XP, —Ä–∞–Ω–≥–∏ –Ω–µ –ø—Ä–æ–ø–∞–¥–∞—é—Ç –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ PostgreSQL

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ**
- –ï—Å–ª–∏ DATABASE_URL –µ—Å—Ç—å ‚Üí PostgreSQL
- –ï—Å–ª–∏ DATABASE_URL –Ω–µ—Ç ‚Üí JSON —Ñ–∞–π–ª—ã

‚úÖ **–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç**
- –≠–∫–æ–Ω–æ–º–∏–∫–∞ (–º–æ–Ω–µ—Ç—ã, –º–∞–≥–∞–∑–∏–Ω)
- XP –∏ —Ä–∞–Ω–≥–∏
- –ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- –¢–∏–∫–µ—Ç—ã

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### ‚ùå "PostgreSQL –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: could not translate host name"

**–ü—Ä–∏—á–∏–Ω–∞**: PostgreSQL –±–∞–∑–∞ –µ—â—ë –Ω–µ –≥–æ—Ç–æ–≤–∞ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü–æ–¥–æ–∂–¥–∏ 1-2 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ DATABASE_URL –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–æ—Ç –Ω–∞ Railway

### ‚ùå "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JSON —Ñ–∞–π–ª" (—Ö–æ—Ç—è DATABASE_URL –¥–æ–±–∞–≤–ª–µ–Ω)

**–ü—Ä–∏—á–∏–Ω–∞**: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∞—Å—å

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –¥–µ–ø–ª–æ–π –≤—Ä—É—á–Ω—É—é
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è DATABASE_URL –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å (Discord –±–æ—Ç, –Ω–µ PostgreSQL)

### ‚ùå –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–ø–∞–ª–∏ –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è PostgreSQL

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–æ–≤–∞—è –±–∞–∑–∞ –ø—É—Å—Ç–∞—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - PostgreSQL –±–∞–∑–∞ –Ω–æ–≤–∞—è
2. –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞–ª–∏—Å—å –≤ JSON —Ñ–∞–π–ª–∞—Ö
3. –ò—Å–ø–æ–ª—å–∑—É–π migrate_to_postgres.py –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–ø–æ–ª–Ω–∏ –≤ Discord:

```
!balance
!profile
!work
```

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ - –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ

---

**–î–∞—Ç–∞**: 07.02.2026
**–í–µ—Ä—Å–∏—è –±–æ—Ç–∞**: 1.1
