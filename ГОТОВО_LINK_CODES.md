# ‚úÖ –°–ò–°–¢–ï–ú–ê –ö–û–î–û–í –ü–†–ò–í–Ø–ó–ö–ò

**–î–∞—Ç–∞:** 09.02.2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

## üéØ –ß–¢–û –≠–¢–û?

–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ Discord –∫ Telegram —á–µ—Ä–µ–∑ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –∫–æ–¥—ã.

**–ë—ã–ª–æ:** –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å 18-–∑–Ω–∞—á–Ω—ã–π Discord ID  
**–°—Ç–∞–ª–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π –∫–æ–¥ –∏–∑ 6 —Å–∏–º–≤–æ–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `ABC123`)

---

## üìã –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

**1. –í Telegram –±–æ—Ç–µ:**
```
/linkcode
```

–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:
```
üîó –ö–æ–¥ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ Discord

–¢–≤–æ–π –∫–æ–¥: ABC123

–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
1. –ó–∞–π–¥–∏ –≤ Discord –±–æ—Ç
2. –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É /link ABC123
3. –ê–∫–∫–∞—É–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∂—É—Ç—Å—è! üéâ

‚è∞ –ö–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 10 –º–∏–Ω—É—Ç
```

**2. –í Discord –±–æ—Ç–µ:**
```
/link ABC123
```

–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:
```
‚úÖ –ê–∫–∫–∞—É–Ω—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã!

üìä –î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:
üí∞ –ú–æ–Ω–µ—Ç—ã: 500
‚ú® XP: 1200
‚≠ê –†–∞–Ω–≥: #5

üéâ –¢–µ–ø–µ—Ä—å —Ç–≤–æ–π –±–∞–ª–∞–Ω—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –º–µ–∂–¥—É Telegram –∏ Discord!
```

**–ì–æ—Ç–æ–≤–æ!** –ó–∞–Ω—è–ª–æ 30 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 5 –º–∏–Ω—É—Ç.

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Telegram    ‚îÇ
‚îÇ /linkcode   ‚îÇ‚îÄ‚îÄ‚îê
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
                 ‚îÇ  –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥
                 ‚ñº
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ PostgreSQL   ‚îÇ
         ‚îÇ link_codes   ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
                 ‚îÇ  –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥
                 ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ Discord     ‚îÇ  ‚îÇ
‚îÇ /link ABC123‚îÇ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

         –ü—Ä–∏–≤—è–∑–∫–∞ —É—Å–ø–µ—à–Ω–∞!
```

### –¢–∞–±–ª–∏—Ü–∞ link_codes:

```sql
CREATE TABLE link_codes (
    code TEXT PRIMARY KEY,           -- –ö–æ–¥ (ABC123)
    telegram_id TEXT NOT NULL,       -- ID Telegram
    discord_id TEXT,                 -- ID Discord (–ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
    platform TEXT NOT NULL,          -- telegram/discord
    used BOOLEAN DEFAULT FALSE,      -- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ª–∏ –∫–æ–¥
    created_at TIMESTAMP,            -- –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
    expires_at TIMESTAMP,            -- –í—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è
    used_at TIMESTAMP                -- –í—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
);
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

‚úÖ –ö–æ–¥—ã –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ (–Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–≤–∞–∂–¥—ã)  
‚úÖ –ö–æ–¥—ã –∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç  
‚úÖ –ö–æ–¥—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ (`secrets`)  
‚úÖ –ò—Å–∫–ª—é—á–µ–Ω—ã –ø–æ—Ö–æ–∂–∏–µ —Å–∏–º–≤–æ–ª—ã (0/O, 1/I)  
‚úÖ –¢–æ–ª—å–∫–æ –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã

---

## üìÅ –°–û–ó–î–ê–ù–ù–´–ï –§–ê–ô–õ–´

**Shared –º–æ–¥—É–ª–∏:**
- `TTFD/shared/link_codes.py` - –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–¥–æ–≤ –ø—Ä–∏–≤—è–∑–∫–∏

**Telegram Bot:**
- `TTFD/telegram-bot/handlers/link_code.py` - –∫–æ–º–∞–Ω–¥—ã `/linkcode`, `/mycodes`

**Discord Bot:**
- `TTFD-Discord/py/link_code_commands.py` - –∫–æ–º–∞–Ω–¥—ã `/link`, `/checklink`

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `TTFD/–ì–û–¢–û–í–û_LINK_CODES.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª
- `TTFD/–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢_LINK_CODES.md` - –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

## üöÄ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### –®–∞–≥ 1: Telegram Bot

–û—Ç–∫—Ä–æ–π—Ç–µ `main.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```python
# –ò–º–ø–æ—Ä—Ç
from handlers.link_code import linkcode_command, linkcode_callback, mycodes_command

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
app.add_handler(CommandHandler("linkcode", linkcode_command))
app.add_handler(CommandHandler("mycodes", mycodes_command))

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è callback
app.add_handler(CallbackQueryHandler(linkcode_callback, pattern="^linkcode_new$"))
```

### –®–∞–≥ 2: Discord Bot

–û—Ç–∫—Ä–æ–π—Ç–µ `bot.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```python
# –ò–º–ø–æ—Ä—Ç
from link_code_commands import setup_link_code_commands

# –í on_ready –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö –∫–æ–º–∞–Ω–¥
await setup_link_code_commands(bot, db)
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤ –ë–î

```sql
CREATE TABLE IF NOT EXISTS link_codes (
    code TEXT PRIMARY KEY,
    telegram_id TEXT NOT NULL,
    discord_id TEXT,
    platform TEXT NOT NULL,
    used BOOLEAN NOT NULL DEFAULT FALSE,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    expires_at TIMESTAMP NOT NULL,
    used_at TIMESTAMP
);

CREATE INDEX idx_link_codes_telegram ON link_codes(telegram_id);
CREATE INDEX idx_link_codes_discord ON link_codes(discord_id);
CREATE INDEX idx_link_codes_expires ON link_codes(expires_at);
```

---

## üìä –ù–û–í–´–ï –ö–û–ú–ê–ù–î–´

### Telegram Bot:

- `/linkcode` - —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ Discord
- `/mycodes` - –ø–æ–∫–∞–∑–∞—Ç—å –º–æ–∏ –∫–æ–¥—ã (–∞–∫—Ç–∏–≤–Ω—ã–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ)

### Discord Bot:

- `/link <–∫–æ–¥>` - –ø—Ä–∏–≤—è–∑–∞—Ç—å Telegram —á–µ—Ä–µ–∑ –∫–æ–¥
- `/checklink` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–∏–≤—è–∑–∫–∏

---

## üîç –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –ü—Ä–∏–º–µ—Ä 1: –£—Å–ø–µ—à–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞

**Telegram:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /linkcode

–ë–æ—Ç:
üîó –ö–æ–¥ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ Discord
–¢–≤–æ–π –∫–æ–¥: ABC123
‚è∞ –ö–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 10 –º–∏–Ω—É—Ç
```

**Discord:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /link ABC123

–ë–æ—Ç:
‚úÖ –ê–∫–∫–∞—É–Ω—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã!
üí∞ –ú–æ–Ω–µ—Ç—ã: 500
‚ú® XP: 1200
‚≠ê –†–∞–Ω–≥: #5
```

### –ü—Ä–∏–º–µ—Ä 2: –ö–æ–¥ –∏—Å—Ç—ë–∫

**Discord:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /link ABC123

–ë–æ—Ç:
‚ùå –ö–æ–¥ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
‚Ä¢ –ö–æ–¥ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
‚Ä¢ –ö–æ–¥ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω
‚Ä¢ –ö–æ–¥ –∏—Å—Ç—ë–∫ (–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 10 –º–∏–Ω—É—Ç)

–ü–æ–ª—É—á–∏ –Ω–æ–≤—ã–π –∫–æ–¥ –≤ Telegram –±–æ—Ç–µ: /linkcode
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏

**Discord:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /checklink

–ë–æ—Ç:
‚úÖ –ê–∫–∫–∞—É–Ω—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã!

üì± Telegram
ID: 8398669299
Username: username

üí¨ Discord
ID: 123456789012345678
Username: DiscordUser

üìä –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
üí∞ –ú–æ–Ω–µ—Ç—ã: 500
‚ú® XP: 1200
‚≠ê –†–∞–Ω–≥: #5
```

---

## ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ê

### –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–æ–¥–∞:

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 10 –º–∏–Ω—É—Ç. –ò–∑–º–µ–Ω–∏—Ç—å –≤ `link_codes.py`:

```python
code = await manager.create_code(
    telegram_id, 
    platform='telegram', 
    expires_minutes=10  # ‚Üê –ò–∑–º–µ–Ω–∏—Ç—å –∑–¥–µ—Å—å
)
```

### –î–ª–∏–Ω–∞ –∫–æ–¥–∞:

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 6 —Å–∏–º–≤–æ–ª–æ–≤. –ò–∑–º–µ–Ω–∏—Ç—å –≤ `link_codes.py`:

```python
def generate_code(self, length: int = 6):  # ‚Üê –ò–∑–º–µ–Ω–∏—Ç—å –∑–¥–µ—Å—å
```

### –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç—ë–∫—à–∏—Ö –∫–æ–¥–æ–≤:

–î–æ–±–∞–≤—å—Ç–µ –≤ cron –∏–ª–∏ scheduler:

```python
# –ö–∞–∂–¥—ã–π —á–∞—Å
await manager.cleanup_expired()
```

---

## üí° –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

‚úÖ **–ë—ã—Å—Ç—Ä–æ:** 30 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 5 –º–∏–Ω—É—Ç  
‚úÖ **–ü—Ä–æ—Å—Ç–æ:** –ö–æ—Ä–æ—Ç–∫–∏–π –∫–æ–¥ –≤–º–µ—Å—Ç–æ 18-–∑–Ω–∞—á–Ω–æ–≥–æ ID  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ:** –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –∫–æ–¥—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º  
‚úÖ **–£–¥–æ–±–Ω–æ:** –ù–µ –Ω—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–π ID  
‚úÖ **–ù–∞–¥—ë–∂–Ω–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ unified database

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ Telegram –±–æ—Ç–∞** (—Å–º. –®–∞–≥ 1)
2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ Discord –±–æ—Ç–∞** (—Å–º. –®–∞–≥ 2)
3. **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤ –ë–î** (—Å–º. –®–∞–≥ 3)
4. **–ó–∞–ª–∏—Ç—å –Ω–∞ GitHub –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å**
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤—è–∑–∫—É**

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏!** üéâ

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –±—ã—Å—Ç—Ä–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å Discord –∫ Telegram —á–µ—Ä–µ–∑ –∫–æ—Ä–æ—Ç–∫–∏–µ –∫–æ–¥—ã.
