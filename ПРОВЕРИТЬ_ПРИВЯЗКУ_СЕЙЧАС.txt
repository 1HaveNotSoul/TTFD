🔍 ЧТО ПРОВЕРИТЬ СЕЙЧАС

═══════════════════════════════════════════════════════════════

✅ ЧТО СДЕЛАНО:

1. ✅ Добавлен psycopg2-binary в Telegram бот (коммит d548a86)
2. ✅ Добавлена колонка telegram_id в Discord БД (коммит 35e7758)
3. ✅ Залито на GitHub (коммит 53f5989)
4. 🔄 Railway деплоит изменения...

═══════════════════════════════════════════════════════════════

📋 ЧЕКЛИСТ ПРОВЕРКИ:

1. ДОЖДИСЬ ДЕПЛОЯ
   - Зайди в Railway → Discord Bot → Deployments
   - Дождись статуса "Deployed" (зелёная галочка)
   - Зайди в Railway → Telegram Bot → Deployments
   - Дождись статуса "Deployed" (зелёная галочка)

2. ПРОВЕРЬ ПЕРЕМЕННЫЕ ОКРУЖЕНИЯ
   Railway → Telegram Bot → Variables:
   ✓ DATABASE_URL должен быть настроен
   
   Значение:
   postgresql://postgres:RVLOGKNYKxNJfcoLiMNJxBgdhCCPspxf@turntable.proxy.rlwy.net:26630/railway

3. ПРОТЕСТИРУЙ ПОЛНЫЙ ЦИКЛ

   ШАГ 1: Discord → Генерация кода
   ────────────────────────────────
   • Зайди в Discord бот
   • Используй команду: /getcode
   • Код придёт в ЛИЧНЫЕ СООБЩЕНИЯ (не в канале)
   • Код выглядит так: ABC123 (6 символов)
   • Код действителен 3 минуты

   ШАГ 2: Telegram → Привязка
   ───────────────────────────
   • Зайди в Telegram бот
   • Используй команду: /code ABC123
   • Должно прийти: "✅ Аккаунты привязаны!"
   
   ШАГ 3: Проверка статуса
   ────────────────────────
   • В Telegram: /checklink
     Должно показать Discord ID и статистику
   
   • В Discord: /checklink
     Должно показать Telegram ID и статистику

═══════════════════════════════════════════════════════════════

❌ ЕСЛИ ОШИБКА:

1. "No module named 'psycopg2'"
   → Дождись деплоя Telegram бота (psycopg2-binary установится)

2. "column telegram_id does not exist"
   → Дождись деплоя Discord бота (колонка добавится автоматически)

3. "DATABASE_URL не настроен"
   → Добавь DATABASE_URL в Railway → Telegram Bot → Variables

4. "Код не найден"
   → Проверь что код правильный (6 символов, заглавные)
   → Проверь что код не истёк (3 минуты)
   → Получи новый код через /getcode

═══════════════════════════════════════════════════════════════

🎉 ОЖИДАЕМЫЙ РЕЗУЛЬТАТ:

После успешной привязки:
• Discord БД: users.telegram_id = '8398669299'
• Telegram БД: локальная привязка discord_id
• /checklink в обоих ботах показывает привязку
• Баланс синхронизирован между платформами

═══════════════════════════════════════════════════════════════

📝 КОМАНДЫ ДЛЯ ТЕСТИРОВАНИЯ:

Discord:
  /getcode     - получить код привязки
  /checklink   - проверить статус привязки
  /unlink      - отвязать Telegram

Telegram:
  /code ABC123 - привязать через код
  /checklink   - проверить статус привязки
  /unlink      - отвязать Discord

═══════════════════════════════════════════════════════════════
