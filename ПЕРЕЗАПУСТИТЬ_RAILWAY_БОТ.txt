🔄 ПЕРЕЗАПУСТИТЬ TELEGRAM БОТ НА RAILWAY

═══════════════════════════════════════════════════════════════

⚠️ ПРОБЛЕМА: Конфликт без локальных процессов

Python процессов нет, но конфликт остаётся.
Возможные причины:
1. Несколько деплоев на Railway
2. Telegram API держит старое соединение
3. Бот перезапускается слишком быстро

═══════════════════════════════════════════════════════════════

✅ РЕШЕНИЕ: Остановить и перезапустить Railway бота

ШАГ 1: Зайди в Railway
───────────────────────

https://railway.app/

ШАГ 2: Открой Telegram Bot проект
──────────────────────────────────

1. Найди проект с Telegram ботом
2. Кликни на него

ШАГ 3: Останови все деплои
───────────────────────────

1. Перейди на вкладку "Deployments"
2. Посмотри сколько деплоев активно (Active)
3. Для КАЖДОГО активного деплоя:
   - Кликни на деплой
   - Три точки (⋮) справа вверху
   - "Stop Deployment"
   - Подтверди

4. Дождись пока все деплои остановятся (статус "Stopped")

ШАГ 4: Подожди 2-3 минуты
──────────────────────────

Это важно! Telegram API должен освободить соединение.

⏰ Подожди 2-3 минуты перед следующим шагом

ШАГ 5: Запусти новый деплой
────────────────────────────

Вариант А: Автоматический перезапуск
1. Railway автоматически запустит новый деплой
2. Дождись статуса "Active" (зелёная галочка)

Вариант Б: Ручной перезапуск
1. Вкладка "Deployments"
2. Кнопка "Deploy" справа вверху
3. Выбери "Redeploy"
4. Дождись статуса "Active"

ШАГ 6: Проверь логи
────────────────────

1. Кликни на активный деплой
2. Вкладка "Logs"
3. Должно быть:
   ✅ Telegram бот запущен и готов к работе!
   ✅ Отправь /start боту в Telegram

4. НЕ должно быть:
   ❌ Error while getting Updates: Conflict

ШАГ 7: Протестируй бота
────────────────────────

1. Отправь /start боту в Telegram
2. Бот должен ответить без ошибок
3. Попробуй другие команды

═══════════════════════════════════════════════════════════════

💡 АЛЬТЕРНАТИВА: Через Railway CLI

Если есть Railway CLI:

# Остановить сервис
railway down

# Подождать 2-3 минуты

# Запустить снова
railway up

═══════════════════════════════════════════════════════════════

🔍 ДОПОЛНИТЕЛЬНО: Проверить переменные окружения

Пока бот остановлен, проверь:

1. Railway → Telegram Bot → Variables
2. Убедись что есть:
   - TELEGRAM_BOT_TOKEN (токен бота)
   - DATABASE_URL (PostgreSQL URL) - для команды /code

═══════════════════════════════════════════════════════════════

📋 ЧЕКЛИСТ:

- [ ] Зашёл в Railway
- [ ] Открыл Telegram Bot проект
- [ ] Остановил ВСЕ активные деплои
- [ ] Подождал 2-3 минуты
- [ ] Запустил новый деплой
- [ ] Проверил логи (нет ошибки Conflict)
- [ ] Отправил /start боту
- [ ] Бот ответил без ошибок

═══════════════════════════════════════════════════════════════

🎯 ПОСЛЕ ИСПРАВЛЕНИЯ:

Telegram бот заработает и ты сможешь:
- /start - проверить работу
- /code ABC123 - привязать Discord аккаунт

Система привязки Discord-Telegram полностью готова!

═══════════════════════════════════════════════════════════════
