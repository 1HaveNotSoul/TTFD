# ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ TELEGRAM_ADMIN_IDS –¥–ª—è –∫–æ–º–∞–Ω–¥—ã /admin

## üîí –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

–¢–µ–ø–µ—Ä—å –∫–æ–º–∞–Ω–¥–∞ `/admin` –∏ –≤—Å–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã **—Ç–æ–ª—å–∫–æ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å Telegram ID –∏–∑ —Å–ø–∏—Å–∫–∞ `TELEGRAM_ADMIN_IDS`.

### –¢–µ–∫—É—â–∏–µ –∞–¥–º–∏–Ω—ã:
- `8398669299`
- `1863940541`

---

## üõ°Ô∏è –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –î–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram ID** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `TELEGRAM_ADMIN_IDS`
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –≤ –ë–î** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É —Ä–æ–ª–µ–π

### –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/admin` - –≥–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- `/setrole` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `/broadcast` - —Ä–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

### –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ callback:
- –í—Å–µ –∫–Ω–æ–ø–∫–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ë–î
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–∫–µ—Ç–∞–º–∏

---

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **`domain/services/permission_service.py`**
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `Config`
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `is_admin_by_id(telegram_id)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ ID
   - –î–æ–±–∞–≤–ª–µ–Ω –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `@require_admin_id()` - –¥–ª—è –∫–æ–º–∞–Ω–¥

2. **`application/handlers/admin/admin_handler.py`**
   - –ö–æ–º–∞–Ω–¥–∞ `/admin` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `@require_admin_id()`
   - –í—Å–µ callback –º–µ—Ç–æ–¥—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç `is_admin_by_id()`
   - –ö–æ–º–∞–Ω–¥—ã `/setrole` –∏ `/broadcast` –ø—Ä–æ–≤–µ—Ä—è—é—Ç admin ID

3. **`.env`**
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã `TELEGRAM_ADMIN_IDS=8398669299,1863940541`

---

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏ –≤—ã–∑–æ–≤–µ /admin:

```python
@PermissionService.require_admin_id()
async def handle_admin_command(self, update, context):
    # –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
    # 1. –ü–æ–ª—É—á–∞–µ—Ç telegram_id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    # 2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ ID –≤ Config.TELEGRAM_ADMIN_IDS
    # 3. –ï—Å–ª–∏ –Ω–µ—Ç - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "‚ùå –£ —Ç–µ–±—è –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞"
    # 4. –ï—Å–ª–∏ –µ—Å—Ç—å - –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é
```

### –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–æ–∫:

```python
async def handle_stats_panel(self, update, context):
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –Ω–∞—á–∞–ª–µ –º–µ—Ç–æ–¥–∞:
    if not PermissionService.is_admin_by_id(str(user_tg.id)):
        await query.answer("‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞", show_alert=True)
        return
```

---

## üöÄ –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ .env —Ñ–∞–π–ª

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `.env`:
```env
TELEGRAM_ADMIN_IDS=8398669299,1863940541,–ù–û–í–´–ô_ID
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Railway

1. –û—Ç–∫—Ä–æ–π Railway ‚Üí Telegram Bot –ø—Ä–æ–µ–∫—Ç
2. Variables ‚Üí `TELEGRAM_ADMIN_IDS`
3. –î–æ–±–∞–≤—å –Ω–æ–≤—ã–π ID —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
4. Deploy

---

## üîç –ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –±–æ—Ç–∞ @userinfobot
1. –ù–∞–π–¥–∏ –±–æ—Ç–∞ @userinfobot –≤ Telegram
2. –ù–∞–ø–∏—à–∏ `/start`
3. –û–Ω –ø–æ–∫–∞–∂–µ—Ç —Ç–≤–æ–π ID

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –ª–æ–≥–∏ –±–æ—Ç–∞
1. –ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ
2. –ù–∞–ø–∏—à–∏ –ª—é–±—É—é –∫–æ–º–∞–Ω–¥—É
3. –í –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç `user_id: 123456789`

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚úÖ –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π `.env` —Ñ–∞–π–ª –≤ Git
- ‚úÖ –•—Ä–∞–Ω–∏ admin ID –≤ —Å–µ–∫—Ä–µ—Ç–µ
- ‚úÖ –ù–µ –¥–∞–≤–∞–π –¥–æ—Å—Ç—É–ø —Å–ª—É—á–∞–π–Ω—ã–º –ª—é–¥—è–º

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –≤ —Å–ø–∏—Å–∫–µ ‚Üí "‚ùå –£ —Ç–µ–±—è –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥–µ"
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –í —Å–ø–∏—Å–∫–µ ‚Üí –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

---

## üìä –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–¥–º–∏–Ω (ID –≤ —Å–ø–∏—Å–∫–µ):
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /admin
–ë–æ—Ç: üîß –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
     üë§ –¢–≤–æ—è —Ä–æ–ª—å: admin
     üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: ...
     [–ö–Ω–æ–ø–∫–∏: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ü—Ä–æ—Å–º–æ—Ç—Ä –ë–î, –¢–∏–∫–µ—Ç—ã]
```

### –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (ID –ù–ï –≤ —Å–ø–∏—Å–∫–µ):
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /admin
–ë–æ—Ç: ‚ùå –£ —Ç–µ–±—è –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥–µ
     –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å ID `8398669299` –∏ `1863940541` –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å.

**–î–∞—Ç–∞**: 2026-02-08  
**–í–µ—Ä—Å–∏—è**: v3.0 + Admin ID Security
