# üîó –ö–ê–ö –ü–†–ò–í–Ø–ó–ê–¢–¨ DISCORD –ö TELEGRAM –ë–û–¢–£

**–î–∞—Ç–∞:** 09.02.2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ

---

## üìã –î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É /link (–ø—Ä–æ—Å—Ç–æ–π)

1. **–£–∑–Ω–∞–π —Å–≤–æ–π Discord ID:**
   - –û—Ç–∫—Ä–æ–π Discord
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ ‚Üí –í–∫–ª—é—á–∏ "–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞"
   - –ù–∞–∂–º–∏ –ü–ö–ú –Ω–∞ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å ‚Üí "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID"

2. **–û—Ç–ø—Ä–∞–≤—å –∫–æ–º–∞–Ω–¥—É –≤ Telegram –±–æ—Ç–µ:**
   ```
   /link 123456789012345678
   ```
   (–∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π Discord ID)

3. **–ì–æ—Ç–æ–≤–æ!** ‚úÖ
   - –¢–≤–æ–π –±–∞–ª–∞–Ω—Å —Ç–µ–ø–µ—Ä—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω
   - –†–∞–Ω–≥–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

---

## üîß –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–ö–æ–º–∞–Ω–¥–∞ `/link` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `handlers/commands.py`:

```python
async def link_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ö–æ–º–∞–Ω–¥–∞ /link - –ø—Ä–∏–≤—è–∑–∞—Ç—å Discord –∞–∫–∫–∞—É–Ω—Ç"""
    # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç discord_id –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î
    db.link_discord(telegram_id, discord_id)
```

### –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å Unified Database

–ß—Ç–æ–±—ã –ø—Ä–∏–≤—è–∑–∫–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ —Å unified database –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª–∞ –±–∞–ª–∞–Ω—Å:

**1. –û–±–Ω–æ–≤–∏—Ç–µ `handlers/commands.py`:**

```python
async def link_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ö–æ–º–∞–Ω–¥–∞ /link - –ø—Ä–∏–≤—è–∑–∞—Ç—å Discord –∞–∫–∫–∞—É–Ω—Ç"""
    user = update.effective_user
    telegram_id = str(user.id)
    
    if not context.args:
        text = """
üîó **–ü—Ä–∏–≤—è–∑–∫–∞ Discord –∞–∫–∫–∞—É–Ω—Ç–∞**

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: `/link <discord_id>`

–ü—Ä–∏–º–µ—Ä: `/link 123456789012345678`

–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Discord ID:
1. –í–∫–ª—é—á–∏ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ Discord
2. –ù–∞–∂–º–∏ –ü–ö–ú –Ω–∞ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
3. –í—ã–±–µ—Ä–∏ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID"
"""
        await update.message.reply_text(text, parse_mode='Markdown')
        return
    
    discord_id = context.args[0]
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —ç—Ç–æ —á–∏—Å–ª–æ
    if not discord_id.isdigit():
        await update.message.reply_text("‚ùå Discord ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º!")
        return
    
    # –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î
    db.link_discord(telegram_id, discord_id)
    
    # Unified Database (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)
    try:
        from infrastructure.database.unified_integration import get_unified_integration
        import asyncio
        
        unified = await get_unified_integration()
        
        # –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
        tg_user = await unified.unified_db.get_user_by_telegram(telegram_id)
        
        if tg_user:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ Discord –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
            discord_user = await unified.unified_db.get_user_by_discord(discord_id)
            
            if discord_user:
                # –û–±—ä–µ–¥–∏–Ω—è–µ–º –∞–∫–∫–∞—É–Ω—Ç—ã
                await unified.unified_db.link_discord(tg_user.id, discord_id)
                
                text = f"""
‚úÖ **Discord –∞–∫–∫–∞—É–Ω—Ç –ø—Ä–∏–≤—è–∑–∞–Ω!**

Discord ID: `{discord_id}`

üéâ –ê–∫–∫–∞—É–Ω—Ç—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã!
‚Ä¢ –ë–∞–ª–∞–Ω—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω: {discord_user.coins} –º–æ–Ω–µ—Ç
‚Ä¢ XP —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω: {discord_user.xp} XP
‚Ä¢ –†–∞–Ω–≥: {discord_user.rank_id}

–¢–µ–ø–µ—Ä—å —Ç–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –º–µ–∂–¥—É Telegram –∏ Discord!
"""
            else:
                # Discord –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
                await unified.unified_db.link_discord(tg_user.id, discord_id)
                
                text = f"""
‚úÖ **Discord ID —Å–æ—Ö—Ä–∞–Ω—ë–Ω!**

Discord ID: `{discord_id}`

‚ö†Ô∏è Discord –∞–∫–∫–∞—É–Ω—Ç –µ—â—ë –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ –±–æ—Ç–µ.
–ó–∞–π–¥–∏ –≤ Discord –±–æ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–π –ª—é–±—É—é –∫–æ–º–∞–Ω–¥—É, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è! üéâ
"""
        else:
            text = "‚ùå –û—à–∏–±–∫–∞: Telegram –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ unified database"
    
    except Exception as e:
        # Unified database –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î
        text = f"""
‚úÖ **Discord ID —Å–æ—Ö—Ä–∞–Ω—ë–Ω!**

Discord ID: `{discord_id}`

–ü—Ä–∏–≤—è–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ. 
–î–ª—è –ø–æ–ª–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —É–±–µ–¥–∏—Å—å —á—Ç–æ unified database –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞.
"""
    
    await update.message.reply_text(text, parse_mode='Markdown')
```

**2. –î–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–∏–≤—è–∑–∫—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Discord –±–æ—Ç–∞:**

–í `TTFD-Discord/py/bot.py` –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```python
async def on_message(message):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏–≤—è–∑–∫—É —Å Telegram
    try:
        from unified_integration import get_discord_unified
        unified = await get_discord_unified()
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ Telegram –∞–∫–∫–∞—É–Ω—Ç —Å —ç—Ç–∏–º Discord ID
        user = await unified.unified_db.get_user_by_discord(str(message.author.id))
        
        if not user:
            # –ò—â–µ–º –ø–æ telegram_id –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω
            # (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª /link –≤ Telegram)
            # –ó–¥–µ—Å—å –Ω—É–∂–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è
            pass
    except:
        pass
```

---

## üìä –ü–†–ò–ú–ï–† –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –µ—Å—Ç—å –≤ –æ–±–æ–∏—Ö –±–æ—Ç–∞—Ö

```
Telegram: /link 123456789
Discord: (—É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –ê–∫–∫–∞—É–Ω—Ç—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã
‚úÖ –ë–∞–ª–∞–Ω—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω: 500 –º–æ–Ω–µ—Ç
‚úÖ XP —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω: 1200 XP
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ –≤ Telegram

```
Telegram: /link 123456789
Discord: (–µ—â—ë –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –±–æ—Ç–∞)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ Discord ID —Å–æ—Ö—Ä–∞–Ω—ë–Ω
‚ö†Ô∏è –ó–∞–π–¥–∏ –≤ Discord –±–æ—Ç –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–∏–≤—è–∑–∫–∏
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ –≤ Discord

```
Discord: (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ—Ç–∞)
Telegram: /link 123456789

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –ê–∫–∫–∞—É–Ω—Ç—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã
‚úÖ –î–∞–Ω–Ω—ã–µ –∏–∑ Discord –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ Telegram
```

---

## üîç –ü–†–û–í–ï–†–ö–ê –ü–†–ò–í–Ø–ó–ö–ò

### –í Telegram –±–æ—Ç–µ:

```
/profile
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
üîó Discord: –ü—Ä–∏–≤—è–∑–∞–Ω
Discord ID: 123456789
```

### –í unified database:

```sql
SELECT 
    telegram_id,
    discord_id,
    username,
    coins,
    xp,
    rank_id
FROM unified_users
WHERE telegram_id = 'YOUR_TG_ID' OR discord_id = 'YOUR_DISCORD_ID';
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

1. **Discord ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º** (18 —Ü–∏—Ñ—Ä)
2. **–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω –≤ Discord
3. **Unified Database** –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
4. **–ü—Ä–∏–≤—è–∑–∫–∞ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞** - –Ω–µ–ª—å–∑—è –æ—Ç–≤—è–∑–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç—ã

---

## üí° –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –°–ü–û–°–û–ë

### –ß–µ—Ä–µ–∑ Website (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ):

1. –í–æ–π–¥–∏ –Ω–∞ —Å–∞–π—Ç —á–µ—Ä–µ–∑ Discord OAuth
2. –ü—Ä–∏–≤—è–∂–∏ Telegram –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è
3. –ê–∫–∫–∞—É–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è

---

**–ì–æ—Ç–æ–≤–æ!** üéâ

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–∏–≤—è–∑–∞—Ç—å Discord –∫ Telegram –±–æ—Ç—É –∫–æ–º–∞–Ω–¥–æ–π `/link <discord_id>`
