# âœ… Ğ”Ğ²ÑƒÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ½ÑÑ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Telegram â†” Discord - Ğ­Ñ‚Ğ°Ğ¿ 1

**Ğ”Ğ°Ñ‚Ğ°:** 08.02.2026  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ°

---

## ğŸ¯ Ğ§Ñ‚Ğ¾ ÑĞ´ĞµĞ»Ğ°Ğ½Ğ¾

### 1. ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
âœ… **`domain/models/sync_event.py`**
- `SyncEvent` - Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- `Transaction` - Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ°
- `SyncState` - Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
- Enums: `EventSource`, `EventType`, `EventStatus`
- Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ğ° `generate_idempotency_key()` Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ»ÑÑ‡ĞµĞ¹

### 2. Ğ ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹
âœ… **`infrastructure/database/repositories/sync_repository.py`**
- CRUD Ğ´Ğ»Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- CRUD Ğ´Ğ»Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¹
- CRUD Ğ´Ğ»Ñ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- ĞœĞµÑ‚Ğ¾Ğ´Ñ‹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ pending ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
- ĞœĞµÑ‚Ğ¾Ğ´Ñ‹ Ğ´Ğ»Ñ reconcile
- ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° ÑÑ‚Ğ°Ñ€Ñ‹Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
- Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°

### 3. Ğ¡ĞµÑ€Ğ²Ğ¸Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
âœ… **`domain/services/sync_service.py`**
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹:
  - `create_xp_change_event()`
  - `create_balance_change_event()`
  - `create_rank_change_event()`
  - `create_achievement_event()`
- ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹:
  - `process_event()` - Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
  - `_process_xp_change()` - Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° XP
  - `_process_balance_change()` - Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ°
  - `_process_rank_change()` - Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ€Ğ°Ğ½Ğ³Ğ°
  - `_process_achievement()` - Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹
- Reconcile:
  - `reconcile_user()` - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°ÑÑ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
  - `reconcile_all_users()` - Ğ¼Ğ°ÑÑĞ¾Ğ²Ñ‹Ğ¹ reconcile
- Ğ˜Ğ´ĞµĞ¼Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· `idempotency_key`
- Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¿Ğ¸Ğ½Ğ³-Ğ¿Ğ¾Ğ½Ğ³Ğ° Ñ‡ĞµÑ€ĞµĞ· `processed_by`

### 4. Ğ¤Ğ¾Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ²Ğ¾Ñ€ĞºĞµÑ€Ñ‹
âœ… **`application/jobs/sync_worker.py`**
- `SyncWorker` - Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞºÑƒĞ½Ğ´)
- `ReconcileWorker` - Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ reconcile (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 15 Ğ¼Ğ¸Ğ½ÑƒÑ‚)
- `CleanupWorker` - Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° ÑÑ‚Ğ°Ñ€Ñ‹Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 24 Ñ‡Ğ°ÑĞ°)
- ĞœĞµÑ‚Ğ¾Ğ´Ñ‹ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ½ÑƒĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°

---

## ğŸ“Š ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Telegram Bot   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Sync Engine    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Discord Bot    â”‚
â”‚   (Python)      â”‚         â”‚  (Event-driven)  â”‚         â”‚   (discord.py)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                            â”‚                            â”‚
        â”‚                            â”‚                            â”‚
        â–¼                            â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PostgreSQL Database                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ sync_events  â”‚  â”‚ transactions â”‚  â”‚ sync_state   â”‚  â”‚ rank_roles  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞŸĞ¾Ñ‚Ğ¾Ğº ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ (Telegram â†’ Discord):
```
1. User Ğ¸Ğ³Ñ€Ğ°ĞµÑ‚ Ğ² Ğ¸Ğ³Ñ€Ñƒ â†’ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ XP
2. GameService.add_xp() Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ SyncService.create_xp_change_event()
3. Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ² sync_events (status=pending)
4. SyncWorker Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 5 ÑĞµĞºÑƒĞ½Ğ´
5. SyncService.process_event() â†’ _process_xp_change()
6. Discord Bot Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ XP Ñ‡ĞµÑ€ĞµĞ· API (TODO)
7. Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ¿Ğ¾Ğ¼ĞµÑ‡Ğ°ĞµÑ‚ÑÑ (status=completed, processed_by=discord)
```

### ĞŸĞ¾Ñ‚Ğ¾Ğº ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ (Discord â†’ Telegram):
```
1. User Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ XP Ğ² Discord (Ğ³Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ¾Ğ¹ Ñ‡Ğ°Ñ‚)
2. Discord Bot ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· SyncService
3. Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ² sync_events (status=pending)
4. SyncWorker Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ
5. SyncService Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ XP Ğ² Telegram Ğ‘Ğ”
6. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ÑÑ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ½Ğ³Ğ°
7. Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ¿Ğ¾Ğ¼ĞµÑ‡Ğ°ĞµÑ‚ÑÑ (status=completed, processed_by=telegram)
```

---

## ğŸ”§ Ğ§Ñ‚Ğ¾ ĞĞ• Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ (TODO)

### 1. Discord Bot (discord.py)
âŒ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Discord Ğ±Ğ¾Ñ‚Ğ° Ñ discord.py v2.x
âŒ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:
- `/link <code>` - Ğ¿Ñ€Ğ¸Ğ²ÑĞ·ĞºĞ° Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°
- `/unlink` - Ğ¾Ñ‚Ğ²ÑĞ·ĞºĞ° Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°
- `/profile` - Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ (Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ TG Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ)
- `/sync` - Ğ¿Ñ€Ğ¸Ğ½ÑƒĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

âŒ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹:
- `on_voice_state_update` - Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ XP Ğ·Ğ° Ğ³Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ¾Ğ¹ Ñ‡Ğ°Ñ‚
- `on_message` - Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ XP Ğ·Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
- `on_member_update` - Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ñ€Ğ¾Ğ»ĞµĞ¹

âŒ API Ğ´Ğ»Ñ Telegram Ğ±Ğ¾Ñ‚Ğ°:
- `add_xp(user_id, delta)` - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ XP
- `update_balance(user_id, delta)` - Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ
- `sync_rank(user_id, rank_id)` - ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€Ğ°Ğ½Ğ³
- `grant_achievement_role(user_id, achievement_id)` - Ğ²Ñ‹Ğ´Ğ°Ñ‚ÑŒ Ñ€Ğ¾Ğ»ÑŒ Ğ·Ğ° Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ

### 2. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² Telegram Bot
âŒ ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `GameService` Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹:
```python
# Ğ’ GameService.check_guess() Ğ¿Ğ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ´Ğ°Ñ‡Ğ¸ XP:
await self.sync_service.create_xp_change_event(
    user_id=user.id,
    delta_xp=reward_xp,
    source=EventSource.TELEGRAM.value,
    reason="game_guess",
    entity_id=str(session.id)
)
```

âŒ ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `UserService` Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹:
```python
# Ğ’ UserService.claim_daily() Ğ¿Ğ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ´Ğ°Ñ‡Ğ¸ XP:
await self.sync_service.create_xp_change_event(
    user_id=user.id,
    delta_xp=100,
    source=EventSource.TELEGRAM.value,
    reason="daily_reward"
)
```

âŒ ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `SeasonService` Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ñ€Ğ°Ğ½Ğ³Ğ°
âŒ ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `AchievementService` Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹

### 3. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² main_v3.py
âŒ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ `SyncService` Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑĞ¼Ğ¸
âŒ Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ `SyncWorker`, `ReconcileWorker`, `CleanupWorker`
âŒ ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ `sync_service` Ğ² `GameService`, `UserService`, etc

### 4. Rank Role Mapping
âŒ Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ `rank_role_mappings` Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Discord role_id
âŒ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑĞµÑ€Ğ²Ğ¸Ñ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¼Ğ°Ğ¿Ğ¿Ğ¸Ğ½Ğ³Ğ¾Ğ¼
âŒ Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºÑƒÑ ÑĞ¼ĞµĞ½Ñƒ Ñ€Ğ¾Ğ»ĞµĞ¹ Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ Ñ€Ğ°Ğ½Ğ³Ğ°

### 5. Discord Bot API Integration
âŒ Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹ Ğ² `DiscordClient` Ğ´Ğ»Ñ:
- ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ XP (Ñ‡ĞµÑ€ĞµĞ· custom bot commands)
- ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ°
- Ğ¡Ğ¼ĞµĞ½Ñ‹ Ñ€Ğ¾Ğ»ĞµĞ¹ Ñ€Ğ°Ğ½Ğ³Ğ°
- Ğ’Ñ‹Ğ´Ğ°Ñ‡Ğ¸ Ñ€Ğ¾Ğ»ĞµĞ¹ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹

### 6. Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
âŒ Unit Ñ‚ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ `SyncService`
âŒ Integration Ñ‚ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
âŒ E2E Ñ‚ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ³Ğ¾ Ñ†Ğ¸ĞºĞ»Ğ° ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

---

## ğŸš€ Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸

### Ğ¨Ğ°Ğ³ 1: ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ‘Ğ”
```bash
# ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒÑÑ Ğº PostgreSQL
psql $DATABASE_URL

# ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ
\i infrastructure/database/migrations/006_bidirectional_sync.sql

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹
\dt sync_*
\dt transactions
\dt rank_role_mappings
```

### Ğ¨Ğ°Ğ³ 2: Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ rank_role_mappings
```sql
-- ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ID Ñ€Ğ¾Ğ»ĞµĞ¹ Ñ Discord ÑĞµÑ€Ğ²ĞµÑ€Ğ°
-- Ğ’ Discord: ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑĞµÑ€Ğ²ĞµÑ€Ğ° â†’ Ğ Ğ¾Ğ»Ğ¸ â†’ ĞŸĞšĞœ Ğ½Ğ° Ñ€Ğ¾Ğ»ÑŒ â†’ ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ID

UPDATE rank_role_mappings
SET discord_role_id = '1234567890123456789'  -- Ğ ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ID
WHERE rank_id = 1;

-- ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ÑŒ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… 20 Ñ€Ğ°Ğ½Ğ³Ğ¾Ğ²
```

### Ğ¨Ğ°Ğ³ 3: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Discord Bot
```bash
cd TTFD/telegram-bot
mkdir discord_bot
cd discord_bot

# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ»Ñ‹:
# - main.py (Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ» Discord Ğ±Ğ¾Ñ‚Ğ°)
# - commands.py (ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ /link, /unlink, /profile, /sync)
# - events.py (Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸ on_voice_state_update, on_message)
# - sync_client.py (ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹)
```

### Ğ¨Ğ°Ğ³ 4: Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Telegram Bot
```python
# Ğ’ main_v3.py Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ:

# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ SyncRepository
sync_repo = SyncRepository(db_connection.get_pool())

# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ SyncService
sync_service = SyncService(sync_repo, user_repo, discord_repo)

# ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ Ğ² ÑĞµÑ€Ğ²Ğ¸ÑÑ‹
game_service = GameService(
    game_repo, user_repo,
    season_service, achievement_service,
    sync_service  # NEW
)

user_service = UserService(
    user_repo, cache,
    sync_service  # NEW
)

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²Ğ¾Ñ€ĞºĞµÑ€Ñ‹
from application.jobs.sync_worker import (
    SyncWorker, ReconcileWorker, CleanupWorker
)

sync_worker = SyncWorker(sync_service)
reconcile_worker = ReconcileWorker(sync_service)
cleanup_worker = CleanupWorker(sync_service)

await sync_worker.start()
await reconcile_worker.start()
await cleanup_worker.start()
```

### Ğ¨Ğ°Ğ³ 5: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ GameService
```python
# Ğ’ domain/services/game_service.py

async def check_guess(self, session, secret_number, guessed_number):
    # ... ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¹ ĞºĞ¾Ğ´ ...
    
    # Ğ’Ñ‹Ğ´Ğ°Ñ‘Ğ¼ XP
    await self.user_repo.update_xp(user.id, reward_xp)
    
    # NEW: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ğ¼ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
    if self.sync_service:
        await self.sync_service.create_xp_change_event(
            user_id=user.id,
            delta_xp=reward_xp,
            source="telegram",
            reason="game_guess",
            entity_id=str(session.id)
        )
    
    # ... Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ĞºĞ¾Ğ´ ...
```

### Ğ¨Ğ°Ğ³ 6: Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
```bash
# 1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Telegram Ğ±Ğ¾Ñ‚Ğ°
python main_v3.py

# 2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸ SyncWorker
# Ğ”Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ:
# "ğŸš€ SyncWorker Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½: interval=5s, batch_size=100"
# "ğŸš€ ReconcileWorker Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½: interval=15m, batch_size=100"

# 3. Ğ¡Ñ‹Ğ³Ñ€Ğ°Ñ‚ÑŒ Ğ² Ğ¸Ğ³Ñ€Ñƒ Ğ² Telegram
/games â†’ Ğ£Ğ³Ğ°Ğ´Ğ°Ğ¹ Ñ‡Ğ¸ÑĞ»Ğ¾

# 4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
psql $DATABASE_URL
SELECT * FROM sync_events ORDER BY created_at DESC LIMIT 5;

# 5. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
# Ğ§ĞµÑ€ĞµĞ· 5 ÑĞµĞºÑƒĞ½Ğ´ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ processed
SELECT * FROM sync_events WHERE status = 'completed' LIMIT 5;
```

---

## ğŸ“ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ XP (Telegram â†’ Discord)
```python
from domain.services.sync_service import SyncService
from domain.models.sync_event import EventSource

# ĞŸĞ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ´Ğ°Ñ‡Ğ¸ XP Ğ² Ğ¸Ğ³Ñ€Ğµ
event = await sync_service.create_xp_change_event(
    user_id=user.id,
    delta_xp=50,
    source=EventSource.TELEGRAM.value,
    reason="game_win",
    entity_id=f"game_{session.id}"
)

# Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ¾ SyncWorker Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
```

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ XP (Discord â†’ Telegram)
```python
# Ğ’ Discord Bot (on_voice_state_update)
if user_joined_voice:
    event = await sync_service.create_xp_change_event(
        user_id=telegram_user_id,
        delta_xp=10,
        source=EventSource.DISCORD.value,
        reason="voice_chat",
        entity_id=f"voice_{session_id}"
    )
```

### Reconcile Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
```python
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ€Ğ°ÑÑ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ
result = await sync_service.reconcile_user(user_id=123)

if result['status'] == 'completed':
    issues = result.get('issues', [])
    if issues:
        print(f"ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ñ€Ğ°ÑÑ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğ¹: {len(issues)}")
        for issue in issues:
            print(f"  - {issue['type']}: diff={issue['diff']}")
```

### Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
```python
stats = await sync_service.get_stats()

print(f"Pending: {stats['pending']}")
print(f"Processing: {stats['processing']}")
print(f"Completed: {stats['completed']}")
print(f"Failed: {stats['failed']}")
```

---

## ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### Ğ˜Ğ´ĞµĞ¼Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ
âœ… ĞšĞ°Ğ¶Ğ´Ğ¾Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ¸Ğ¼ĞµĞµÑ‚ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ `idempotency_key`
âœ… ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ñ Ñ‚ĞµĞ¼ Ğ¶Ğµ ĞºĞ»ÑÑ‡Ğ¾Ğ¼ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞµ
âœ… Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¹

### Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¿Ğ¸Ğ½Ğ³-Ğ¿Ğ¾Ğ½Ğ³Ğ°
âœ… ĞŸĞ¾Ğ»Ğµ `processed_by` Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°ĞµÑ‚ ĞºÑ‚Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ» ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ
âœ… Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ¸Ğ· Telegram Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Discord
âœ… Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ¸Ğ· Discord Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Telegram

### Rank-Derived ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ
âœ… Ğ Ğ°Ğ½Ğ³ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ÑĞµÑ‚ÑÑ Ğ¸Ğ· XP (ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº Ğ¸ÑÑ‚Ğ¸Ğ½Ñ‹)
âœ… Discord Ñ€Ğ¾Ğ»ÑŒ - Ğ¾Ñ‚Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ½Ğ³Ğ°
âœ… ĞĞµĞ»ÑŒĞ·Ñ Ğ°Ğ±ÑŒÑĞ·Ğ¸Ñ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· Discord

### Retry Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼
âœ… Ğ”Ğ¾ 3 Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
âœ… Ğ­ĞºÑĞ¿Ğ¾Ğ½ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ backoff (TODO)
âœ… Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²ÑĞµÑ… Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

---

## ğŸ“Š ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

### Ğ›Ğ¾Ğ³Ğ¸
```
ğŸ”„ SyncWorker: Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
ğŸ“‹ SyncWorker: Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° 5 ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
âœ… SyncWorker: Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ¾ 5, Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ»ĞµĞ½Ğ¾ 0
ğŸ” ReconcileWorker: Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°ÑÑ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğ¹
âœ… ReconcileWorker: 10 Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹, 2 Ñ€Ğ°ÑÑ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾
ğŸ§¹ CleanupWorker: Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° ÑÑ‚Ğ°Ñ€Ñ‹Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
```

### ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ (TODO)
- ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸
- Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
- ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ ÑƒÑĞ¿ĞµÑˆĞ½Ñ‹Ñ… ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹
- ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼
- ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ reconcile Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹

---

## ğŸ¯ Roadmap

### Ğ­Ñ‚Ğ°Ğ¿ 1 (Ğ“ĞĞ¢ĞĞ’Ğ)
- âœ… ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- âœ… Ğ ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹
- âœ… SyncService
- âœ… Ğ¤Ğ¾Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ²Ğ¾Ñ€ĞºĞµÑ€Ñ‹

### Ğ­Ñ‚Ğ°Ğ¿ 2 (Ğ’ Ğ ĞĞ‘ĞĞ¢Ğ•)
- â³ Discord Bot (discord.py)
- â³ Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² Telegram Bot
- â³ Rank Role Mapping

### Ğ­Ñ‚Ğ°Ğ¿ 3 (TODO)
- âŒ Discord Bot API Integration
- âŒ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸ Discord ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
- âŒ ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ´Ğ²ÑƒÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ½ÑÑ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### Ğ­Ñ‚Ğ°Ğ¿ 4 (TODO)
- âŒ Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
- âŒ ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
- âŒ ĞĞ´Ğ¼Ğ¸Ğ½ĞºĞ° Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ

---

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ­Ñ‚Ğ°Ğ¿ 1 Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½  
**Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ ÑˆĞ°Ğ³:** Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Discord Bot Ğ¸ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Telegram Bot

