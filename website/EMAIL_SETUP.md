# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç –∏–º–µ–Ω–∏ –±–æ—Ç–∞ TTFD.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ SMTP
- ‚úÖ HTML –ø–∏—Å—å–º–∞ —Å –∫—Ä–∞—Å–∏–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- ‚úÖ –ö–Ω–æ–ø–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è email –∞–¥—Ä–µ—Å–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ email –≤ localStorage

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –î–ª—è Gmail (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –°–æ–∑–¥–∞–π –æ—Ç–¥–µ–ª—å–Ω—ã–π Gmail –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –±–æ—Ç–∞
2. –í–∫–ª—é—á–∏ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
3. –°–æ–∑–¥–∞–π "–ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è":
   - –ü–µ—Ä–µ–π–¥–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Google Account
   - Security ‚Üí 2-Step Verification ‚Üí App passwords
   - –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è "Mail"
   - –°–∫–æ–ø–∏—Ä—É–π 16-–∑–Ω–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å

4. –í `app.py` –æ–±–Ω–æ–≤–∏ `EMAIL_CONFIG`:
```python
EMAIL_CONFIG = {
    'smtp_server': 'smtp.gmail.com',
    'smtp_port': 587,
    'sender_email': 'your-bot@gmail.com',  # Email –±–æ—Ç–∞
    'sender_password': 'xxxx xxxx xxxx xxxx',  # –ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    'sender_name': 'TTFD Bot'
}
```

### 2. –î–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

**Yandex:**
```python
'smtp_server': 'smtp.yandex.ru'
'smtp_port': 587
```

**Mail.ru:**
```python
'smtp_server': 'smtp.mail.ru'
'smtp_port': 587
```

**Outlook/Hotmail:**
```python
'smtp_server': 'smtp-mail.outlook.com'
'smtp_port': 587
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Å–≤–æ–π email –≤ —Ä–∞–∑–¥–µ–ª–µ "–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"
3. –ü–æ–ª—É—á–∞–µ—Ç –∫—Ä–∞—Å–∏–≤–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ –æ—Ç TTFD Bot

## API Endpoint

```javascript
POST /api/send_notification
{
    "email": "user@example.com",
    "subject": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∏—Å—å–º–∞",
    "message": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è"
}
```

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö:

```python
# –ü—Ä–∏–º–µ—Ä: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
def notify_level_up(user_email, level):
    send_email(
        user_email,
        f'üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –î–æ—Å—Ç–∏–≥–Ω—É—Ç {level} —É—Ä–æ–≤–µ–Ω—å!',
        f'–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –¢—ã –¥–æ—Å—Ç–∏–≥ {level} —É—Ä–æ–≤–Ω—è –≤ TTFD!'
    )
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å `EMAIL_CONFIG` —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ Git
- –ò—Å–ø–æ–ª—å–∑—É–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production
- –°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤

–ü—Ä–∏–º–µ—Ä `.env`:
```
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SENDER_EMAIL=bot@gmail.com
SENDER_PASSWORD=xxxx xxxx xxxx xxxx
```

–ò –∑–∞–≥—Ä—É–∂–∞–π —á–µ—Ä–µ–∑ `python-dotenv`:
```python
from dotenv import load_dotenv
load_dotenv()

EMAIL_CONFIG = {
    'smtp_server': os.getenv('SMTP_SERVER'),
    'smtp_port': int(os.getenv('SMTP_PORT')),
    'sender_email': os.getenv('SENDER_EMAIL'),
    'sender_password': os.getenv('SENDER_PASSWORD'),
    'sender_name': 'TTFD Bot'
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä: `python app.py`
2. –û—Ç–∫—Ä–æ–π http://localhost:3000/settings
3. –ü–µ—Ä–µ–π–¥–∏ –≤–æ –≤–∫–ª–∞–¥–∫—É "–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ"
4. –í–≤–µ–¥–∏ —Å–≤–æ–π email
5. –ù–∞–∂–º–∏ "üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"
6. –ü—Ä–æ–≤–µ—Ä—å –ø–æ—á—Ç—É (–≤–∫–ª—é—á–∞—è —Å–ø–∞–º)

## Troubleshooting

**–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å email –∏ –ø–∞—Ä–æ–ª—è
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å "–ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è", –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞

**–ü–∏—Å—å–º–∞ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å –ø–∞–ø–∫—É "–°–ø–∞–º"
- –£–±–µ–¥–∏—Å—å —á—Ç–æ SMTP –ø–æ—Ä—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Ñ–∞–π—Ä–≤–æ–ª–æ–º
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ Flask

**Timeout –æ—à–∏–±–∫–∏:**
- –ü—Ä–æ–≤–µ—Ä—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π SMTP —Å–µ—Ä–≤–µ—Ä
- –£–≤–µ–ª–∏—á—å timeout –≤ –∫–æ–¥–µ
